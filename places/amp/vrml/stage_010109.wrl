#VRML V2.0 utf8

PROTO SharedEvent [
field SFBool local FALSE
exposedField SFString   name    "event"  
exposedField SFString   type    "SFTime" 
eventIn SFBool  boolFromServer    eventIn SFColor colorFromServer
eventIn SFFloat floatFromServer   eventIn SFInt32 int32FromServer
eventIn SFRotation rotationFromServer 
eventIn SFString stringFromServer eventIn SFTime timeFromServer
eventIn SFVec2f vec2fFromServer   eventIn SFVec3f vec3fFromServer  
eventOut SFBool boolToServer      eventOut SFColor colorToServer  
eventOut SFFloat floatToServer    eventOut SFInt32 int32ToServer  
eventOut SFRotation rotationToServer  
eventOut SFString stringToServer  eventOut SFTime timeToServer  
eventOut SFVec2f vec2fToServer    eventOut SFVec3f vec3fToServer  
eventIn SFBool  set_bool    eventIn SFColor set_color  
eventIn SFFloat set_float   eventIn SFInt32 set_int32  
eventIn SFRotation set_rotation  
eventIn SFString set_string eventIn SFTime set_time  
eventIn SFVec2f set_vec2f   eventIn SFVec3f set_vec3f  
eventOut SFBool bool_changed     eventOut SFColor color_changed  
eventOut SFFloat float_changed   eventOut SFInt32 int32_changed  
eventOut SFRotation rotation_changed  
eventOut SFString string_changed eventOut SFTime  time_changed  
eventOut SFVec2f vec2f_changed   eventOut SFVec3f vec3f_changed  
]{ 
Script {
field SFBool local IS local 
#eventIn SFString set_name IS set_name  eventIn SFString set_type IS set_type eventOut SFString name_changed IS name_changed                                       eventOut SFString  type_changed IS type_changed
eventIn SFBool    boolFromServer      IS boolFromServer 
eventIn SFColor   colorFromServer     IS colorFromServer 
eventIn SFFloat   floatFromServer     IS floatFromServer 
eventIn SFInt32   int32FromServer     IS int32FromServer 
eventIn SFRotation rotationFromServer IS rotationFromServer 
eventIn SFString  stringFromServer    IS stringFromServer 
eventIn SFTime    timeFromServer      IS timeFromServer 
eventIn SFVec2f   vec2fFromServer     IS vec2fFromServer 
eventIn SFVec3f   vec3fFromServer     IS vec3fFromServer 
eventOut SFBool    boolToServer      IS boolToServer 
eventOut SFColor   colorToServer     IS colorToServer 
eventOut SFFloat   floatToServer     IS floatToServer 
eventOut SFInt32   int32ToServer     IS int32ToServer 
eventOut SFRotation rotationToServer IS rotationToServer 
eventOut SFString  stringToServer    IS stringToServer 
eventOut SFTime    timeToServer      IS timeToServer 
eventOut SFVec2f   vec2fToServer     IS vec2fToServer 
eventOut SFVec3f   vec3fToServer     IS vec3fToServer
eventIn SFBool    set_bool    IS set_bool 
eventIn SFColor   set_color   IS set_color 
eventIn SFFloat   set_float   IS set_float 
eventIn SFInt32   set_int32   IS set_int32 
eventIn SFRotation set_rotation IS set_rotation 
eventIn SFString  set_string  IS set_string 
eventIn SFTime    set_time    IS set_time 
eventIn SFVec2f   set_vec2f   IS set_vec2f 
eventIn SFVec3f   set_vec3f   IS set_vec3f
eventOut SFBool    bool_changed      IS bool_changed 
eventOut SFColor   color_changed     IS color_changed 
eventOut SFFloat   float_changed     IS float_changed 
eventOut SFInt32   int32_changed     IS int32_changed 
eventOut SFRotation rotation_changed IS rotation_changed 
eventOut SFString  string_changed    IS string_changed 
eventOut SFTime    time_changed      IS time_changed 
eventOut SFVec2f   vec2f_changed     IS vec2f_changed 
eventOut SFVec3f   vec3f_changed     IS vec3f_changed 
url "vrmlscript: 
function set_name(value, time) { name_changed = value; } 
function set_type(value, time) { type_changed = value; } 
function boolFromServer (value, time) { bool_changed = value; } 
function colorFromServer (value, time) { color_changed = value; } 
function floatFromServer (value, time) { float_changed = value; } 
function int32FromServer (value, time) { int32_changed = value; } 
function rotationFromServer (value, time) {rotation_changed = value; } 
function stringFromServer (value, time) { string_changed = value; } 
function timeFromServer (value, time) { time_changed = time; } 
function vec2fFromServer (value, time) { vec2f_changed = value; } 
function vec3fFromServer (value, time) { vec3f_changed = value; } 
function set_bool (value, time) {boolToServer = value;if(local){boolFromServer(value,time);}} 
function set_color (value, time) { colorToServer = value;if(local){colorFromServer(value,time);}} 
function set_float (value, time) {floatToServer = value; if(local){floatFromServer(value,time);}} 
function set_int32 (value, time) {int32ToServer = value; if(local){int32FromServer(value,time);}} 
function set_rotation (value, time) {rotationToServer = value;if(local){rotationFromServer(value,time);}} 
function set_string (value, time) {stringToServer = value;if(local){stringFromServer(value,time);}} 
function set_time (value, time) {timeToServer = value;if(local){timeFromServer(value,time);}} 
function set_vec2f (value, time) {vec2fToServer = value;if(local){vec2fFromServer(value,time);}} 
function set_vec3f (value, time) {vec3fToServer = value;if(local){vec3fFromServer(value,time);}} 
"}
}

PROTO BlaxxunZone [ 
eventIn         MFNode   addEvents 
eventIn         MFNode   removeEvents 
eventIn         MFNode   addAvatars 
eventIn         MFNode   removeAvatars 
exposedField    MFNode   events []
exposedField    MFNode   avatars []
eventOut        MFNode   events_added 
eventOut        MFNode   events_removed 
eventOut        MFNode   avatars_added 
eventOut        MFNode   avatars_removed
eventIn         SFString set_myAvatarURL 
eventOut        SFString myAvatarURL_changed 
eventIn         SFInt32  set_myAvatarGesture 
eventIn         SFInt32  myAvatarGestureFromServer 
exposedField	 SFNode   beamToViewpoint NULL
eventOut        SFInt32  myAvatarGesture_changed 
eventOut        SFInt32  myAvatarGestureToServer 
exposedField    MFNode   avatarLOD []
exposedField    MFFloat  avatarRange []
exposedField    MFString sendToChat ""
exposedField    SFFloat  beamToDistance 3
exposedField    MFString groupChatName ""
exposedField    MFString groupChat ""
exposedField    SFString myAvatarName ""
eventIn         MFNode   addObjects 
eventIn         MFNode   removeObjects 
eventOut        MFNode   objects_added 
eventOut        MFNode   objects_removed
]
{
Group {
}
DEF S Script {
 eventIn MFNode addEvents IS addEvents
 eventIn MFNode removeEvents IS removeEvents
 eventIn MFNode addAvatars IS addAvatars
 eventIn MFNode removeAvatars IS removeAvatars 
 eventIn MFNode addObjects IS addObjects
 eventIn MFNode removeObjects IS removeObjects 
 eventIn SFString set_myAvatarURL IS set_myAvatarURL
 eventOut MFNode events_added IS events_added
 eventOut MFNode events_removed IS events_removed
 eventOut MFNode avatars_added IS avatars_added
 eventOut MFNode avatars_removed IS avatars_removed
 eventOut MFNode objects_added IS objects_added
 eventOut MFNode objects_removed IS objects_removed
 eventIn         SFInt32  set_myAvatarGesture IS set_myAvatarGesture
 eventIn         SFInt32  myAvatarGestureFromServer IS myAvatarGestureFromServer
 eventOut        SFInt32  myAvatarGesture_changed IS myAvatarGesture_changed
 eventOut        SFInt32  myAvatarGestureToServer IS myAvatarGestureToServer
 eventOut		 SFString myAvatarURL_changed IS myAvatarURL_changed
 exposedField    MFString sendToChat IS sendToChat
 exposedField    SFFloat  beamToDistance  IS beamToDistance  
 exposedField    MFString groupChatName  IS groupChatName  
 exposedField    MFString groupChat  IS groupChat  
url "vrmlscript:
 function addEvents(value, time) { events_added = value; }
 function addAvatars(value, time) { avatars_added = value; }
 function addObjects(value, time) { objects_added = value; }
 function removeEvents(value, time) { events_removed = value; }
 function removeAvatars(value, time) { avatars_removed = value; }
 function removeObjects(value, time) { objects_removed = value; }
 function set_myAvatarGesture(value, time) { myAvatarGestureToServer = value; }
 function myAvatarGestureFromServer(value, time) { myAvatarGesture_changed = value; }
 function set_myAvatarURL(value, time) { myAvatarURL_changed = value; }
"
}
}# END BlaxxunZone


PROTO Zoomer[
eventIn SFTime bind_zoom
]{
DEF nav NavigationInfo{type "PAN" headlight FALSE}
DEF zoom Viewpoint{}
HUD{
children DEF zoom_switch Switch{
whichChoice -1
choice DEF main Transform{
translation 0 0 -.5
children DEF aspect Transform{translation 0 0 0 
children[

Transform{
translation .27 .15 0 rotation 0 1 0 0 scale 1 1 .25 
children[
DEF disable_zoom TouchSensor{}
Shape{
appearance Appearance{material	Material {ambientIntensity	0.454545 diffuseColor	0.44 0.1 0 specularColor	1 0.68 0.51	emissiveColor	0.15 0.13 0.06 shininess	0.07}}
geometry Sphere{radius .015}
}
]}

Transform {
children	Shape {
appearance	DEF mask Appearance {texture	ImageTexture {url	"mask.gif"}}
geometry	IndexedFaceSet {ccw FALSE
coord	Coordinate {point	[ -0.1 -0.0588235 0,-0.1 0.0588235 0,0.1 0.0588235 0,0.1 -0.0588235 0 ]}
coordIndex	[ 0, 1, 2, 3, -1 ]
texCoord	TextureCoordinate {point	[ 0.00250542 0.00115666,0.00136438 0.995574,0.996339 0.995574,0.99748 0.00115666 ]}
texCoordIndex	[ 0, 1, 2, 3, -1 ]
}}
translation	0 0 0
scale	3.5 3.5 3.5
}

Transform {
children	Shape {
appearance USE mask
geometry IndexedFaceSet {
coord	Coordinate {point	[ -0.1 -0.0588235 0,-0.1 0.0588235 0,-0.141667 0.1 0,-0.141667 -0.1 0,0.1 -0.0588235 0,0.141667 -0.1 0,0.1 0.0588235 0,0.141667 0.1 0 ]}
coordIndex	[ 0, 1, 2, 3, -1, 4, 0, 3,5, -1, 1, 6, 7, 2, -1, 6,4, 5, 7, -1 ]
texCoord	TextureCoordinate {point	[ -0.00251174 0.0493622,-0.00251174 0.947457,-0.0584843 1.02563,-0.0584843 -0.0269805,0.999094 0.0493622,1.05754 -0.0269805,0.999094 0.947457,1.05754 1.02563 ]}
texCoordIndex	[ 0, 1, 2, 3, -1, 4, 0, 3,5, -1, 1, 6, 7, 2, -1, 6,4, 5, 7, -1 ]}
}
scale 3.5 3.5 3.5
}

Transform{
translation .32 0 -.02 rotation -.61 0 1 1.571
children[
DEF zoom_in CylinderSensor{ autoOffset TRUE}# minAngle 0 maxAngle 6
DEF zoom_over TouchSensor{}
DEF dial Transform{
translation 0 0 0 rotation 0 1 0 0
children[
Shape{
appearance Appearance{material Material{}
texture ImageTexture{url"dial.jpg"}
textureTransform TextureTransform{scale 1.1 20 translation 0 -0.05 rotation 1.571}
}
geometry Cylinder{radius .1 height .01 top FALSE bottom FALSE}
}
Shape{appearance Appearance{material Material{transparency 1}}geometry Cylinder{radius .1 height .1 top FALSE bottom FALSE}}
]}]}



Transform{
translation -.2 0 .02 scale .09 .07 1 
children[
Transform {children[	
DEF up_bttn TouchSensor{}
DEF arrow Shape {appearance Appearance{material	Material{transparency .5 diffuseColor 0 0 0 specularColor	0 0 0 emissiveColor	0 1 1}}geometry IndexedFaceSet{coord Coordinate{point[ 0.1 0.5 0,0.1 0.2 0,-0.1 0.5 0,-0.1 0.2 0,0.2 0.5 0,-0.2 0.5 0,0 0.8 0 ]}coordIndex[ 2, 0, 1, 3, -1, 5, 6, 2,-1, 6, 0, 2, -1, 6, 4, 0,-1 ]ccw FALSE}}
]}
Transform{rotation 0 0 1  1.571 children[DEF right_bttn TouchSensor{} USE arrow]}
Transform{rotation 0 0 1 -1.571 children[DEF left_bttn  TouchSensor{} USE arrow]}
Transform{rotation 0 0 1  3.142 children[DEF down_bttn  TouchSensor{} USE arrow]}
#Transform{rotation 1 0 0 1.571  children Shape{appearance Appearance{material	Material{transparency .5 diffuseColor 0 0 0 specularColor	0 0 0 emissiveColor	0 1 1}}geometry Cylinder{height .1 radius .8 bottom FALSE top FALSE}}}
]}

Transform{translation 0 -.13 .01
children[
Shape{
appearance Appearance{material Material{emissiveColor 0 1 1 diffuseColor 0 0 0 specularColor 0 0 0}}
geometry DEF message Text{fontStyle FontStyle { size .03 family "ARIAL" style "BOLD" justify "MIDDLE"}string ""}
}]}
]}}}}

DEF zoom_script Script{
eventIn   SFTime      bind_zoom        IS bind_zoom
eventIn   SFBool      unbind_zoom
eventIn   SFRotation  set_zoom
eventIn   SFBool      enable_zoom

field     SFNode      self             USE zoom_script
field     SFNode      view             USE zoom
field     SFNode      nav              USE nav
field     SFNode      zoom_in          USE zoom_in
field     SFFloat     lastZoom         1
field     SFFloat     currentZoom      1
eventOut  SFFloat     fov_changed
eventOut  SFVec3f     scale_changed
eventOut  SFInt32     choice_changed
eventOut  SFBool      bind_changed

eventIn   SFTime      set_up
eventIn   SFTime      set_down
eventIn   SFTime      set_left
eventIn   SFTime      set_right
eventIn   SFBool      set_close_over
eventIn   SFBool      set_zoom_over
eventIn   SFBool      set_pan_over
field   SFNode        message USE message
field   SFRotation  current_x_rotation  1 0 0 0
field   SFRotation  current_y_rotation  0 1 0 0
field   SFRotation  current_z_rotation  0 0 1 0
field   SFRotation  current_rotation    0 0 0 0

########HUD HANDLING
eventIn  SFFloat      set_windowAspect
eventOut SFVec3f      offset_changed
directOutput TRUE
url"vrmlscript:
function set_windowAspect(v,t){
// print(v);
 if(v < 1.62){
   x = (1.62/v) * -.2;
   offset_changed = new SFVec3f(0,0,x);
   return;
 }
 if(v > 2.45){
   x = (2.45/v) * .1;
   offset_changed = new SFVec3f(0,0,x);
   return;
 }             
 offset_changed = new SFVec3f(0,0,0);
}
function enable_zoom(v,t){
 if(!v){zoom_in.enabled = true;}
}
function bind_zoom(v,t){
 Browser.setGravity(false);
 Browser.boundViewpoint.position = Browser.viewpointPosition;
 Browser.boundViewpoint.orientation = Browser.viewpointOrientation;
 Browser.addRoute(Browser.boundViewpoint,'isBound',self,'unbind_zoom');
 nav.set_bind = true;
 choice_changed = 0;
 current_x_rotation[3] = Browser.boundViewpoint.orientation[0] * Browser.boundViewpoint.orientation[3];
 current_y_rotation[3] = Browser.boundViewpoint.orientation[1] * Browser.boundViewpoint.orientation[3];
}
function unbind_zoom(v,t){
 if(v){return;}
 Browser.setGravity(true);
 Browser.boundViewpoint.fieldOfView = .7855;
 nav.set_bind = false;
 choice_changed = -1;
 currentZoom = .025;
 scale_changed = new SFVec3f(.96,.96,1);
}
function set_zoom(v,t){
 change = lastZoom - v[3];
 currentZoom -= change;
 if(currentZoom < .025){currentZoom = .025;}
 if(currentZoom > 5.9){currentZoom = 5.9;}
 rot = 1 - (currentZoom/6);
 lastZoom = v[3];

 Browser.boundViewpoint.fieldOfView = rot * .785;
 rot -=  (.05 * rot) * (currentZoom/6);
 scale_changed = new SFVec3f(rot,rot,1);

 Browser.boundViewpoint.orientation = Browser.viewpointOrientation;
}
function computeRotation(){
 t = new SFVec3f(0,0,0);
 x = new VrmlMatrix(); x.setTransform(t,current_x_rotation);
 y = new VrmlMatrix(); y.setTransform(t,current_y_rotation);
 z = new VrmlMatrix(); z.setTransform(t,current_z_rotation);
 x.multLeft(y).multLeft(z).getTransform(t,Browser.boundViewpoint.orientation);
}
function set_up(v,t){
 current_x_rotation[3] = Browser.viewpointOrientation[0] * Browser.viewpointOrientation[3];
 current_y_rotation[3] = Browser.viewpointOrientation[1] * Browser.viewpointOrientation[3];
 current_x_rotation[3] += .075 * view.fieldOfView;
 if(current_x_rotation[3] > .8){current_x_rotation[3] = .8;}
 computeRotation();
}
function set_down(v,t){
 current_x_rotation[3] = Browser.viewpointOrientation[0] * Browser.viewpointOrientation[3];
 current_y_rotation[3] = Browser.viewpointOrientation[1] * Browser.viewpointOrientation[3];
 current_x_rotation[3] -= .075 * view.fieldOfView;
 if(current_x_rotation[3] > .8){current_x_rotation[3] = .8;}
 computeRotation();
}
function set_left(v,t){
 current_x_rotation[3] = Browser.viewpointOrientation[0] * Browser.viewpointOrientation[3];
 current_y_rotation[3] = Browser.viewpointOrientation[1] * Browser.viewpointOrientation[3];
 current_y_rotation[3] -= .075 * view.fieldOfView;
 if(current_y_rotation[3] < - 3.142){current_y_rotation[3] = 3.142;}
 computeRotation();
}
function set_right(v,t){
 current_x_rotation[3] = Browser.viewpointOrientation[0] * Browser.viewpointOrientation[3];
 current_y_rotation[3] = Browser.viewpointOrientation[1] * Browser.viewpointOrientation[3];
 current_y_rotation[3] += .075 * view.fieldOfView;
 if(current_y_rotation[3] > 3.142){current_y_rotation[3] = -3.142;}
 computeRotation();
}
function set_close_over(v){if(v){message.string =new MFString('EXIT ZOOM');}else{message.string =new MFString('');}}
function set_zoom_over(v){ if(v){message.string =new MFString('DRAG UP AND DOWN TO ZOOM');}else{message.string =new MFString('');}}
function set_pan_over(v){  if(v){message.string =new MFString('CLICK TO PAN');}else{message.string =new MFString('');}}

function initialize(){
 set_windowAspect( Browser.getWindowAspect() );
 Browser.addRoute( Browser, 'windowAspect', self, 'set_windowAspect' );
}
"}
ROUTE zoom_in.rotation_changed     TO zoom_script.set_zoom
ROUTE zoom_in.rotation_changed     TO dial.set_rotation
ROUTE zoom_in.isActive             TO zoom_script.enable_zoom
ROUTE disable_zoom.isActive        TO zoom_script.unbind_zoom
#ROUTE zoom_script.fov_changed      TO zoom.set_fieldOfView
ROUTE zoom_script.scale_changed    TO main.set_scale
ROUTE zoom_script.choice_changed   TO zoom_switch.set_whichChoice
ROUTE zoom_script.offset_changed   TO aspect.set_translation
ROUTE up_bttn.touchTime            TO zoom_script.set_up
ROUTE down_bttn.touchTime          TO zoom_script.set_down
ROUTE left_bttn.touchTime          TO zoom_script.set_left
ROUTE right_bttn.touchTime         TO zoom_script.set_right
ROUTE right_bttn.isOver            TO zoom_script.set_pan_over
ROUTE left_bttn.isOver             TO zoom_script.set_pan_over
ROUTE up_bttn.isOver               TO zoom_script.set_pan_over
ROUTE down_bttn.isOver             TO zoom_script.set_pan_over
ROUTE disable_zoom.isOver          TO zoom_script.set_close_over
ROUTE zoom_over.isOver               TO zoom_script.set_zoom_over


}#END PROTO Zoomer

PROTO HSMaterial[
field SFColor diffuseColor .5 0 0 field SFColor specularColor 0 0 0
field SFColor emissiveColor 0 0 0 field SFFloat shininess 0.5
field SFFloat transparency 0 field SFFloat ambientIntensity 0
]{
DEF thisMat Material{diffuseColor IS diffuseColor emissiveColor IS emissiveColor specularColor IS specularColor  shininess IS shininess transparency IS transparency ambientIntensity IS ambientIntensity}
DEF s Script{field SFNode mat USE thisMat url"vrmlscript:function initialize(){if(!Browser.getCap(2)){mat.transparency = 0;}}"}
}#END HSMaterial

PROTO LaserDrawPlane[
exposedField SFVec3f position 0 0 0
exposedField SFColor color 0 1 0
field MFVec3f drawCoord []
field SFVec3f laserPosition 0 0 0
field MFString url "laser.gif"
]{
Collision{collide FALSE children[
Shape{appearance Appearance{material HSMaterial{diffuseColor IS color emissiveColor IS color transparency .7}}geometry DEF laserbeam_geometry IndexedLineSet{ coord DEF laserbeam_coord Coordinate{} coordIndex[]}}
Shape{appearance Appearance{material HSMaterial{diffuseColor IS color emissiveColor IS color transparency .8}}geometry DEF draw_geometry IndexedLineSet{ coord DEF draw_coordinate Coordinate{point IS drawCoord} coordIndex[]}}

Shape{appearance Appearance{
material Material{diffuseColor IS color emissiveColor IS color transparency .8}
texture ImageTexture{url IS url}
textureTransform DEF plane_tt TextureTransform{scale .25 1}
}
geometry DEF plane_geometry IndexedFaceSet{ solid FALSE coord DEF plane_coordinate Coordinate{point[0 0 0,0 0 0,0 0 0]} coordIndex[0,1,2,-1] texCoord TextureCoordinate{point[.5 1,0 0,1 0,0 0]} texCoordIndex[0,1,2,-1]}
}

DEF laser_interp PositionInterpolator{key[0,.5,1]keyValue[0 0 0,10 0 0,0 0 0]}
DEF laser_clock TimeSensor{cycleInterval 10 enabled TRUE loop TRUE}
DEF laser_script Script{
eventIn SFFloat set_fraction
field SFTime lastTime 0
eventOut MFVec3f value_changed
field MFVec3f drawCoord IS drawCoord
field MFVec3f theseCoord []
field SFVec3f laserPosition IS laserPosition
field SFNode draw USE draw_geometry
field SFNode laserbeam USE laserbeam_geometry
field SFNode plane USE plane_geometry
field SFNode interp USE laser_interp
field MFVec3f lineVec []

eventIn SFVec3f set_position IS position
field SFVec3f position IS position
eventOut MFVec3f draw_changed
eventOut MFVec3f plane_changed

eventIn SFVec3f set_textureTranslation
eventOut SFVec2f texture_changed

url"vrmlscript:
function set_position(v,t){
   position = v;
   for(i = 0;i < drawCoord.length;i++){theseCoord[i] = v.add(drawCoord[i]);}
   points = new MFVec3f(laserPosition);
   for(i=1;i < drawCoord.length + 1;i++){points[i] = theseCoord[i - 1];}
   plane_changed = points;
   draw_changed = theseCoord;
}
function set_fraction(v,t){if(t < lastTime + .01){return;}else{lastTime = t;point = new MFVec3f(laserPosition);for(i=1;i < drawCoord.length;i++){lineVec[i] = theseCoord[i].subtract(theseCoord[i-1]);point[i] = theseCoord[i-1].add(lineVec[i].multiply(Math.random()));}value_changed = point;}}
function set_textureTranslation(v,t){texture_changed = new SFVec2f(v[0],v[2]);}
function initialize(){
 for(i = 0;i < drawCoord.length;i++){theseCoord[i] = position.add(drawCoord[i]);}
 for(i = 0;i < drawCoord.length;i++){draw.coordIndex[i] = i;}
 draw.coordIndex[drawCoord.length] = -1;
 
 plane.coord.point[0] = laserPosition;
 for(i=1;i < drawCoord.length + 1;i++){
  plane.coord.point[i] = drawCoord[i - 1];  
    if(i < drawCoord.length){
     j = (i - 1)*4;
     plane.coordIndex[j] = 0;
     plane.coordIndex[j + 1] = i;
     plane.coordIndex[j + 2] = i + 1;
     plane.coordIndex[j + 3] = -1;
     plane.texCoordIndex[j] = 0;
     plane.texCoordIndex[j + 1] = 2;
     plane.texCoordIndex[j + 2] = 3;
     plane.texCoordIndex[j + 3] = -1;    
    }
 }
 laserbeam.coord.point[0] = laserPosition;
 for(i=1;i < drawCoord.length;i++){
   lineVec[i] = theseCoord[i].subtract(theseCoord[i-1]);
   laserbeam.coord.point[i] = theseCoord[i-1].add(lineVec[i].multiply(Math.random()));
   j = (i-1)*3; 
   laserbeam.coordIndex[j] = 0; laserbeam.coordIndex[j + 1] = i; laserbeam.coordIndex[j + 2] = -1;
 }
}

"}]}
ROUTE laser_clock.fraction_changed TO laser_script.set_fraction
ROUTE laser_clock.fraction_changed TO laser_interp.set_fraction
ROUTE laser_interp.value_changed TO laser_script.set_textureTranslation
ROUTE laser_script.texture_changed TO plane_tt.set_translation
ROUTE laser_script.value_changed TO laserbeam_coord.set_point 
ROUTE laser_script.draw_changed TO draw_coordinate.set_point

ROUTE laser_script.plane_changed TO plane_coordinate.set_point 
}#END LaserDraw PROTO

PROTO LaserSpot[
exposedField SFVec3f position 0 0 0
field SFColor color 0 1 0
field MFVec3f drawCoord []
field SFVec3f laserPosition 0 0 0
]{
Collision{collide FALSE children[
Shape{appearance Appearance{material HSMaterial{diffuseColor IS color transparency .7}}geometry DEF laserbeam_geometry IndexedLineSet{ coord DEF laserbeam_coord Coordinate{} coordIndex[]}}
Shape{appearance Appearance{material Material{diffuseColor IS color emissiveColor IS color transparency .8}}geometry DEF draw_geometry IndexedFaceSet{ coord DEF draw_coordinate Coordinate{point IS drawCoord} coordIndex[]}}
DEF laser_interp PositionInterpolator{key[0,.5,1]keyValue[0 0 0,10 0 0,0 0 0]}
DEF laser_clock TimeSensor{cycleInterval 100 enabled TRUE loop TRUE}
DEF laser_script Script{
eventIn SFFloat set_fraction
field SFTime lastTime 0
eventOut MFVec3f value_changed
field MFVec3f drawCoord IS drawCoord
field MFVec3f theseCoord []
field SFVec3f laserPosition IS laserPosition
field SFNode draw USE draw_geometry
field SFNode laserbeam USE laserbeam_geometry
field SFNode interp USE laser_interp
field MFVec3f lineVec []
eventIn SFVec3f set_position IS position
field SFVec3f position IS position
eventOut MFVec3f draw_changed
url"vrmlscript:
function set_position(v,t){position = v;for(i = 0;i < drawCoord.length;i++){theseCoord[i] = v.add(drawCoord[i]);}draw_changed = theseCoord; }
function set_fraction(v,t){if(t < lastTime + .04){return;}else{lastTime = t;point = new MFVec3f(laserPosition);for(i=1;i < drawCoord.length;i++){lineVec[i] = theseCoord[i].subtract(theseCoord[i-1]);point[i] = theseCoord[i-1].add(lineVec[i].multiply(Math.random()));}value_changed = point;}}
function set_textureTranslation(v,t){textureTranslation_changed = new SFVec2f(v[0],v[2]);}
function initialize(){for(i = 0;i < drawCoord.length;i++){theseCoord[i] = position.add(drawCoord[i]);}
for(i = 0;i < drawCoord.length;i++){draw.coordIndex[i] = i;} draw.coordIndex[drawCoord.length] = -1;laserbeam.coord.point[0] = laserPosition;
for(i=1;i < drawCoord.length;i++){lineVec[i] = theseCoord[i].subtract(theseCoord[i-1]);laserbeam.coord.point[i] = theseCoord[i-1].add(lineVec[i].multiply(Math.random()));
j = (i-1)*3;laserbeam.coordIndex[j] = 0;laserbeam.coordIndex[j + 1] = i;laserbeam.coordIndex[j + 2] = -1;}}"}]}
ROUTE laser_clock.fraction_changed TO laser_script.set_fraction
ROUTE laser_clock.fraction_changed TO laser_interp.set_fraction
ROUTE laser_script.value_changed TO laserbeam_coord.set_point 
ROUTE laser_script.draw_changed TO draw_coordinate.set_point 
}#END LaserSpot PROTO

PROTO AudioPlayer[
eventIn SFBool       over_menu
eventIn SFTime       get_menu
eventIn SFString     set_clip
eventIn SFTime       toggle_player 
field MFString       onLoadUrl     ""
field SFTime         onLoadDelay   20
field MFString       loadUrl       ""
field MFString       params        "target=action"
]{
HUD{
children[
DEF audio MovieTexture{url"" loop FALSE} 
DEF hud_offset Transform{ translation -1 .5 -2 scale .85 .85 .85
children[
DEF _0 Transform {
children [
DEF display_2 Transform {
children [

Transform {
children Shape {
appearance DEF chsl_1 Appearance {material Material { ambientIntensity 0 diffuseColor 0 0 0 emissiveColor 0 1 1 shininess .03}}
geometry DEF text Text {fontStyle FontStyle { size .5 family "ARIAL" style "BOLD"}string ""}
}
translation 2.72 -.621 9.31e-010
center 1.08 .125 0
}
Transform {
children Shape {
appearance USE chsl_1
geometry DEF title Text {fontStyle FontStyle { size .75 family "ARIAL" style "BOLD"}string "CHOOSE A TRACK"}
}
translation 1.07 -.125 0
center 1.19 .25 0
}
Transform {
children Shape {
appearance Appearance {material Material { ambientIntensity .253 diffuseColor 0 0 .75 specularColor 0 .84 .88 shininess .06 transparency .5}}
geometry IndexedFaceSet {
coord Coordinate {point [.5 -.75 -.1, .5 .625 -.1, 9.5 .625 -.1, 9.5 -.75 -.1,]}
coordIndex [0 1 2 3 -1,]
solid FALSE
}}
center 5 -.0625 -.1
}
]
translation -4.95 0 0
scale .01 1 1
center 5 -.0625 -.05
}
DEF play_button_4 Transform {translation 0 -2 0 rotation 0 0 -1 3.142
children[
Shape {
appearance DEF chsl_2 Appearance {texture ImageTexture {url "http://www.cybertown.com/externprotos/audioplayer/black.jpg"}}
geometry IndexedFaceSet {
coord Coordinate {point [-1.42e-007 -.128 .269, -.31 -.757 .269, .31 -.757 .269, -5.96e-008 -.0537 -.0211, -.383 -.831 -.0211, .383 -.831 -.0211,]}
coordIndex [0 1 2 -1, 5 3 0 2 -1, 3 4 1 0 -1, 4 5 2 1 -1,]
texCoord TextureCoordinate {point [.121 .163, .0535 .0388, .189 .0388, .122 .213, .00296 .00294, .241 .00294,]}
creaseAngle 3.14
texCoordIndex [0 1 2 -1, 5 3 0 2 -1, 3 4 1 0 -1, 4 5 2 1 -1,]
}}
DEF play_button TouchSensor{enabled FALSE}
]}
DEF stop_button_6 Transform {
children[
Shape {
appearance USE chsl_2
geometry IndexedFaceSet {
coord Coordinate {point [-.313 -.895 .27, -.313 -1.46 .27, .313 -1.46 .27, .313 -.895 .27, -.383 -.831 -.0211, -.383 -1.52 -.0211, .383 -1.52 -.0211, .383 -.831 -.0211,]}
coordIndex [4 5 1 0 -1, 5 6 2 1 -1, 6 7 3 2 -1, 7 4 0 3 -1, 0 1 2 3 -1,]
texCoord TextureCoordinate {point [.834 .159, .834 .0334, .964 .0334, .964 .159, .802 .191, .802 .00148, .996 .00148, .996 .191,]}
creaseAngle 3.14
texCoordIndex [4 5 1 0 -1, 5 6 2 1 -1, 6 7 3 2 -1, 7 4 0 3 -1, 0 1 2 3 -1,]
}}
DEF stop_button TouchSensor{enabled FALSE}
]}
Transform {
children[
Shape {
appearance USE chsl_2
geometry IndexedFaceSet {
coord Coordinate {
point [
.295 .712 .0417, -1.78e-007 .77 .0417, -8.71e-007 .352 .212, .135 .325 .212, -.295 .712 .0417, -.135 .325 .212, 6.67e-007 1 -.156, -.383 .924 -.156, .383 .924 -.156, .545 .545 .0417, .249 .249 .212, .707 .707 -.156, .924 .383 -.156, .712 .295 .0417,
1 4.77e-008 -.156, .77 5.04e-008 .0417, .924 -.383 -.156, .712 -.295 .0417, .352 5.54e-008 .212, .325 -.135 .212, .545 -.545 .0417, .249 -.249 .212, .707 -.707 -.156, .383 -.924 -.156, .295 -.712 .0417, .135 -.325 .212, -6.19e-008 -.77 .0417,
-8.18e-007 -.352 .212, -.295 -.712 .0417, -.135 -.325 .212, -.383 -.924 -.156, -4.48e-010 -1 -.156, -.707 -.707 -.156, -.545 -.545 .0417, -.249 -.249 .212, -.712 -.295 .0417, -.325 -.135 .212, -.77 9.33e-008 .0417, -.352 7.5e-008 .212,
-1 -1.59e-008 -.156, -.924 -.383 -.156, -.924 .383 -.156, -.712 .295 .0417, -.325 .135 .212, -.545 .545 .0417, -.249 .249 .212, -.707 .707 -.156, .325 .135 .212,
]
}
coordIndex [
0 1 2 3 -1, 1 4 5 2 -1, 6 7 4 1 -1, 8 6 1 0 -1, 9 0 3 10 -1, 11 8 0 9 -1, 12 11 9 13 -1, 14 12 13 15 -1, 16 14 15 17 -1, 17 15 18 19 -1, 20 17 19 21 -1, 22 16 17 20 -1, 23 22 20 24 -1, 24 20 21 25 -1, 26 24 25 27 -1, 28 26 27 29 -1, 30 31 26 28 -1, 31
23 24 26 -1, 32 30 28 33 -1, 33 28 29 34 -1, 35 33 34 36 -1, 37 35 36 38 -1, 39 40 35 37 -1, 40 32 33 35 -1, 41 39 37 42 -1, 42 37 38 43 -1, 4 44 45 5 -1, 44 42 43 45 -1, 7 46 44 4 -1, 46 41 42 44 -1, 15 13 47 18 -1, 13 9 10 47 -1, 21 19 18 47 10 3 2
5 45 43 38 36 34 29 27 25 -1,
]
texCoord TextureCoordinate {
point [
.601 .794, .515 .812, .515 .688, .554 .68, .429 .794, .475 .68, .515 .879, .403 .857, .627 .857, .674 .745, .588 .658, .722 .793, .785 .697, .723 .671, .807 .584, .74 .584, .785 .472, .723 .498, .618 .584, .61 .545, .674 .424, .588 .511, .722 .376,
.627 .312, .601 .375, .554 .489, .515 .357, .515 .481, .429 .375, .475 .489, .403 .312, .515 .29, .308 .376, .355 .424, .442 .511, .307 .498, .42 .545, .29 .584, .412 .584, .222 .584, .245 .472, .245 .697, .307 .671, .42 .624, .355 .745, .442 .658,
.308 .793, .61 .624,
]
}
creaseAngle 3.14
texCoordIndex [
0 1 2 3 -1, 1 4 5 2 -1, 6 7 4 1 -1, 8 6 1 0 -1, 9 0 3 10 -1, 11 8 0 9 -1, 12 11 9 13 -1, 14 12 13 15 -1, 16 14 15 17 -1, 17 15 18 19 -1, 20 17 19 21 -1, 22 16 17 20 -1, 23 22 20 24 -1, 24 20 21 25 -1, 26 24 25 27 -1, 28 26 27 29 -1, 30 31 26 28 -1, 31
23 24 26 -1, 32 30 28 33 -1, 33 28 29 34 -1, 35 33 34 36 -1, 37 35 36 38 -1, 39 40 35 37 -1, 40 32 33 35 -1, 41 39 37 42 -1, 42 37 38 43 -1, 4 44 45 5 -1, 44 42 43 45 -1, 7 46 44 4 -1, 46 41 42 44 -1, 15 13 47 18 -1, 13 9 10 47 -1, 21 19 18 47 10 3 2
5 45 43 38 36 34 29 27 25 -1,
]
}
}
DEF open_button TouchSensor{}]}
Transform {
children [
Transform {
children Shape {
appearance USE chsl_2
geometry IndexedFaceSet {
coord Coordinate {point [
-.707 .707 -2.48e-006, -.924 .383 -2.75e-006, -1 -1.59e-008 -2.24e-006, -.924 -.383 -1.02e-006, -.707 -.707 6.85e-007, -.383 -.924 2.59e-006, -1.13 1.15 .00761, -1.47 .628 .00761, -1.59 .0185 .00761, -1.47 -.591 .00761, -1.13 -1.11 .00761,
-.383 -1.52 .00761, -1.13 1.15 -.164, -1.47 .628 -.164, -1.59 .0185 -.164, -1.47 -.591 -.164, -1.13 -1.11 -.164, -.383 -1.52 -.164, -.707 .707 -.156, -.924 .383 -.156, -1 -1.59e-008 -.156, -.924 -.383 -.156, -.707 -.707 -.156, -.383 -.924 -.156,
]}
coordIndex [1 0 6 7 -1, 2 1 7 8 -1, 3 2 8 9 -1, 4 3 9 10 -1, 5 4 10 11 -1, 7 6 12 13 -1, 8 7 13 14 -1, 9 8 14 15 -1, 10 9 15 16 -1, 11 10 16 17 -1, 23 22 4 5 -1, 21 20 2 3 -1, 22 21 3 4 -1, 20 19 1 2 -1, 19 18 0 1 -1, 12 6 0 18 -1,]
texCoord TextureCoordinate {point [.307 .798, .235 .698, .21 .58, .235 .462, .307 .362, .414 .295, .0533 .774, .0131 .586, .0533 .397, .414 .11, .168 .238, .168 .933,]}
creaseAngle 3.14
texCoordIndex [1 0 11 6 -1, 2 1 6 7 -1, 3 2 7 8 -1, 4 3 8 10 -1, 5 4 10 9 -1, 6 11 11 6 -1, 7 6 6 7 -1, 8 7 7 8 -1, 10 8 8 10 -1, 9 10 10 9 -1, 5 4 4 5 -1, 3 2 2 3 -1, 4 3 3 4 -1, 2 1 1 2 -1, 1 0 0 1 -1, 11 11 0 0 -1,]
}}
center -.988 -.189 -.0782
}
DEF right_10 Transform {
children Shape {
appearance USE chsl_2
geometry IndexedFaceSet {
coord Coordinate {point [
.707 -.707 6.94e-006, .383 -.924 5.99e-006, .383 -1.52 .00762, 1.13 -1.11 .00762, .924 -.383 7.21e-006, 1.47 -.591 .00762, 1 4.77e-008 6.65e-006, 1.59 .0185 .00762, .924 .383 5.48e-006, 1.47 .628 .00762, .383 -1.52 -.164, 1.13 -1.11 -.164,
.707 -.707 -.156, .383 -.924 -.156, 1.13 1.15 .00762, 1.47 .628 -.164, 1.13 1.15 -.164, .707 .707 3.78e-006, 1.47 -.591 -.164, 1.59 .0185 -.164, .924 -.383 -.156, 1 4.77e-008 -.156, .924 .383 -.156, .707 .707 -.156,
]}
coordIndex [0 1 2 3 -1, 4 0 3 5 -1, 6 4 5 7 -1, 8 6 7 9 -1, 3 2 10 11 -1, 12 13 1 0 -1, 14 9 15 16 -1, 17 8 9 14 -1, 5 3 11 18 -1, 7 5 18 19 -1, 9 7 19 15 -1, 20 12 0 4 -1, 21 20 4 6 -1, 22 21 6 8 -1, 23 22 8 17 -1, 17 14 16 23 -1,]
texCoord TextureCoordinate {point [.723 .37, .622 .299, .622 .104, .854 .239, .791 .475, .962 .407, .815 .599, 1 .605, .791 .724, .962 .803, .854 .971, .723 .829,]}
creaseAngle 3.14
texCoordIndex [0 1 2 3 -1, 4 0 3 5 -1, 6 4 5 7 -1, 8 6 7 9 -1, 3 2 2 3 -1, 0 1 1 0 -1, 10 9 9 10 -1, 11 8 9 10 -1, 5 3 3 5 -1, 7 5 5 7 -1, 9 7 7 9 -1, 4 0 0 4 -1, 6 4 4 6 -1, 8 6 6 8 -1, 11 8 8 11 -1, 11 10 10 11 -1,]
}}
center .988 -.189 -.0782
}
]}
Group {
children [
DEF UnnamedAnimation0Time_12 TimeSensor {
startTime -1
}
DEF rightTranslationInterp_13 PositionInterpolator {key [0 .2 .4 .6 .8 1]keyValue [0 0 0 1 0 0 2.78 0 0 4.66 0 0 6.59 0 0 8.5 0 0]}
DEF stop_buttonTranslationInterp_14 PositionInterpolator {key [0 .2 .4 .6 .8 1]keyValue [0 0 0 1 0 0 2.78 0 0 4.66 0 0 6.59 0 0 8.5 -.05 0]}
DEF displayTranslationInterp_15 PositionInterpolator {key [0 .2 .4 .6 .8 1]keyValue [-4.95 0 0 -3.96 0 0 -2.97 0 0 -1.98 0 0 -.99 0 0 0 0 0]}
DEF displayScaleInterp_16 PositionInterpolator {key [0 .2 .4 .6 .8 1]keyValue [.01 1 1 .208 1 1 .406 1 1 .604 1 1 .802 1 1 1 1 1]}
DEF play_buttonTranslationInterp_17 PositionInterpolator {key [0 .2 .4]keyValue [0 -1.2 0   .25 -1.2 0   .5 -1.2 0]}
DEF play_buttonRotationInterp_18 OrientationInterpolator {key [0  .4]keyValue [0 0 -1 3.142    0 0 -1 1.57]}
DEF play_buttonCenterInterp_19 PositionInterpolator {key [0 .2 .4]keyValue [-4.92e-007 -.443 .124 -2.46e-007 -.221 .062 0 0 0]}
DEF UnnamedTransformTranslationInterp_20 PositionInterpolator {key [0 1]keyValue [0 0 0 .2 -.2 0]}
DEF UnnamedTransformScaleInterp_21 PositionInterpolator {key [0 1]keyValue [.1 .1 .1 .2 .2 .2]}
]}
]scale .1 .1 .1}
]}#end Main HUD Transform
]}#end HUD
DEF audio_script Script{
eventIn MFNode       receive
eventIn SFTime       set_time
eventIn SFTime       toggle_player IS toggle_player
eventIn SFString     set_clip      IS set_clip
eventIn SFBool       over_menu     IS over_menu
eventIn SFBool       over_open
eventIn SFBool       over_play
eventIn SFBool       over_stop
eventIn SFTime       get_menu      IS get_menu
eventIn SFTime       open
eventIn SFTime       play
eventIn SFTime       stop
eventIn SFFloat      set_fraction
eventIn  SFFloat      set_windowAspect
field    SFVec3f      offset -1 .65 -2
eventOut SFVec3f      offset_changed
field SFNode         self          USE audio_script
field SFNode         audio         USE audio
field MFString       onLoadUrl     IS  onLoadUrl
field SFTime         onLoadDelay   IS  onLoadDelay
field MFString       loadUrl       IS  loadUrl
field MFString       params        IS  params
field SFTime         lastTime      0
field SFBool         isOpen        FALSE
field MFString       audioUrl      ""
field MFString       messages      ["BUFFERING AUDIO","CHANGE MUSIC","PLAY","STOP","OPEN PLAYER","CLOSE PLAYER"]
field SFInt32        messageIndex  -1
eventOut SFInt32     choice_changed
eventOut MFString    text_changed
eventOut MFString    title_changed
eventOut SFBool      enabled_changed
eventOut SFTime      startTime_changed
eventOut SFFloat     fraction_changed
url "vrmlscript:
   function set_windowAspect(v,t){
    offset[0] = -0.7*(1+((v-1.01)));
    offset_changed = offset;
   }
   function set_fraction(v,t){
    if(!isOpen){
     fraction_changed = v;
     enabled_changed = true;
     if(v == 1){isOpen = true;}
    }else{
     fraction_changed = 1 - v;
     enabled_changed = false;
     if(v == 1){isOpen = false;}
    }
   }
//MOUSE OVER HANDLERS
   function over_menu(v,t){
    if(v){text_changed = new MFString(messages[1]); messageIndex = 1;}
    else {text_changed  = new MFString(''); messageIndex = -1;}
   }
   function over_open(v,t){
    if(v){
      if(isOpen){text_changed = new MFString(messages[5]); messageIndex = 5;}
            else{text_changed = new MFString(messages[4]); messageIndex = 4;}
    }
    else {text_changed  = new MFString(''); messageIndex = -1;}
   }
   function over_play(v,t){
    if(v){text_changed = new MFString(messages[2]); messageIndex = 2;}
    else {text_changed  = new MFString(''); messageIndex = -1;}
   }
   function over_stop(v,t){
    if(v){text_changed = new MFString(messages[3]); messageIndex = 3;}
    else {text_changed  = new MFString(''); messageIndex = -1;}
   }

//AUDIO CONTROLS
   function get_menu(){
    //Browser.loadURL(loadUrl,params);
    //set_clip( new SFString('pnm://video1.video.t-online.de/iworld/real/faceit56.rm|Face It'),Browser.getTime());
   }
   function open(){
    startTime_changed = Browser.getTime();
   }
   function play(t){
    audio.startTime = t;
   }
   function stop(t){
    audio.stopTime = t;
   }
//MISC
   function set_clip(v,t){
    stop(t);
    if(end < 1){end = v.length;}
    if(end > 22){end = 22;}
    clip  = v.substring(0,v.indexOf('|'));
    title = v.substring((v.indexOf('|') + 1),v.length);
    end = title.indexOf('-');
    if(end < 1){end = title.length;}
    title = title.substring(0,end);

    title_changed = new MFString(title);
    audio.url = audioUrl = new MFString(clip);

    play(t);
   }

   function set_time(v,t){
    if(v == 0 || v == lastTime){
      if(messageIndex == -1){text_changed = new MFString(messages[0]); messageIndex = 0;}
    }
    else{
      if(messageIndex < 1){
        seconds = Math.floor(v);
        minutes = Math.floor(seconds/60);
        seconds = seconds - (minutes * 60);
        if(seconds < 10){sec = '0' + seconds;}else{sec = seconds;}
        str = 'PLAYING   ' + minutes + ':' + sec;
        text_changed = new MFString(str); messageIndex = -1;
      }
    }
    lastTime = v;
   }

   function receive(v,t){
    clip  = v[0].data.substring(0,v[0].data.indexOf('^'));
    title = v[0].data.substring((v[0].data.indexOf('^') + 1),v[0].data.length);
    end = title.indexOf('-');
    if(end < 1){end = title.length;}
    if(end > 22){end = 22;}
    title = title.substring(0,end);
    title_changed = new MFString(title);
    audio.url = audioUrl = new MFString(clip);
    play(Browser.getTime() + onLoadDelay);
   }

   function initialize(){
    audio.stopTime = Browser.getWorldStartTime();
    if(onLoadUrl != ''){Browser.createVrmlFromURL(onLoadUrl,self,'receive');}
    else{
     clip  = 'http://www.orgymusic.com/cybertown/10032000.ram';
     title = 'Vapor Transmissions';
     title_changed = new MFString(title);
     audio.url = audioUrl = new MFString(clip);
     play(Browser.getTime() + onLoadDelay);
    }
    set_windowAspect( Browser.getWindowAspect() );
    Browser.addRoute( Browser, 'windowAspect', self, 'set_windowAspect' );
   }
"}
ROUTE audio_script.offset_changed   TO hud_offset.set_translation
ROUTE audio.mediaTime               TO audio_script.set_time
#ROUTE audio_script.choice_changed  TO HUD_switch.set_whichChoice
ROUTE audio_script.text_changed     TO text.set_string
ROUTE audio_script.title_changed    TO title.set_string
ROUTE audio_script.enabled_changed  TO play_button.set_enabled
ROUTE audio_script.enabled_changed  TO stop_button.set_enabled
ROUTE open_button.isOver            TO audio_script.over_open
ROUTE play_button.isOver            TO audio_script.over_play
ROUTE stop_button.isOver            TO audio_script.over_stop
ROUTE open_button.touchTime         TO audio_script.open
ROUTE play_button.touchTime         TO audio_script.play
ROUTE stop_button.touchTime         TO audio_script.stop
ROUTE audio_script.startTime_changed             TO UnnamedAnimation0Time_12.set_startTime
ROUTE UnnamedAnimation0Time_12.fraction_changed  TO audio_script.set_fraction
ROUTE audio_script.fraction_changed TO rightTranslationInterp_13.set_fraction
ROUTE audio_script.fraction_changed TO stop_buttonTranslationInterp_14.set_fraction
ROUTE audio_script.fraction_changed TO displayTranslationInterp_15.set_fraction
ROUTE audio_script.fraction_changed TO displayScaleInterp_16.set_fraction
ROUTE audio_script.fraction_changed TO play_buttonTranslationInterp_17.set_fraction
ROUTE audio_script.fraction_changed TO play_buttonRotationInterp_18.set_fraction
ROUTE audio_script.fraction_changed TO play_buttonCenterInterp_19.set_fraction
ROUTE audio_script.fraction_changed TO UnnamedTransformTranslationInterp_20.set_fraction
ROUTE audio_script.fraction_changed TO UnnamedTransformScaleInterp_21.set_fraction
ROUTE UnnamedTransformTranslationInterp_20.value_changed TO _0.set_translation
ROUTE UnnamedTransformScaleInterp_21.value_changed TO _0.set_scale
ROUTE displayTranslationInterp_15.value_changed TO display_2.set_translation
ROUTE displayScaleInterp_16.value_changed TO display_2.set_scale
ROUTE play_buttonTranslationInterp_17.value_changed TO play_button_4.set_translation
ROUTE play_buttonRotationInterp_18.value_changed TO play_button_4.set_rotation
ROUTE play_buttonCenterInterp_19.value_changed TO play_button_4.set_center
ROUTE stop_buttonTranslationInterp_14.value_changed TO stop_button_6.set_translation
ROUTE rightTranslationInterp_13.value_changed TO right_10.set_translation
}#END PROTO


####################################################################################
#Building
####################################################################################
Transform{translation 0 0 80
children[
Shape{
 appearance Appearance{material Material{diffuseColor 1 0 0}}
 geometry Sphere{radius 5}
}
]}

Transform {
children [
Shape {
appearance Appearance {
#material Material {}
texture ImageTexture {
url "stagetop.jpg"
}
}
geometry IndexedFaceSet {
coord DEF building-COORD Coordinate {
point [
0 0 0, 20 0 0, 14.14 0 14.14, 0 0 20, -14.14 0 14.14, -20 0 0, -14.14 0 -14.14, 0 0 -20, 14.14 0 -14.14, 20 -3.092 0, 14.14 -3.092 14.14, 0 -3.092 20, -14.14 -3.092 14.14, -20 -3.092 0, -14.14 -3.092 -14.14, 14.14 -3.092 -14.14, 26 -8.233 0,
18.38 -8.233 18.38, 0 -8.233 26, -18.38 -8.233 18.38, -26 -8.233 0, -18.38 -8.233 -18.38, 18.38 -8.233 -18.38, 31.2 -50 0, 22.06 -50 22.06, 0 -50 31.2, -22.06 -50 22.06, -31.2 -50 0, 22 -3.092 0, 15.56 -3.092 15.56, 0 -3.092 22, -15.56 -3.092 15.56,
-22 -3.092 0, -15.56 -3.092 -15.56, 15.56 -3.092 -15.56, 19.8 -8.233 0, 14 -8.233 14, 0 -8.233 19.8, -14 -8.233 14, -19.8 -8.233 0, -14 -8.233 -14, 14 -8.233 -14,
]
}
coordIndex [
0 2 1 -1, 0 3 2 -1, 0 4 3 -1, 0 5 4 -1, 0 6 5 -1, 0 7 6 -1, 0 8 7 -1, 0 1 8 -1,
]
texCoord DEF building-TEXCOORD TextureCoordinate {
point [
.5 .5, 1 .707, 1 .293, .707 0, .293 0, 0 .293, 0 .707, .293 1, .707 1, 4 0, 0 1, 4 1, 0 0, 12 0, 10 1, 12 1, 10 0, 8 1, 8 0, 6 1, 6 0, 1 1, 1 0, .046 .321, .305 .052, .352 .159, .154 .364, .052 .695, .159 .648, .321 .954, .364 .846, .695 .948,
.648 .841, .954 .679, .846 .636, .679 .046, .636 .154,
]
}
creaseAngle 1
texCoordIndex [
0 2 1 -1, 0 3 2 -1, 0 4 3 -1, 0 5 4 -1, 0 6 5 -1, 0 7 6 -1, 0 8 7 -1, 0 1 8 -1,
]
}
}
Shape {
appearance Appearance {
#material Material {}
texture ImageTexture {
url "bldgtop.jpg"
}
}
geometry IndexedFaceSet {
coord USE building-COORD
coordIndex [
17 16 35 -1, 35 36 17 -1, 18 17 36 -1, 36 37 18 -1, 19 18 37 -1, 37 38 19 -1, 20 19 38 -1, 38 39 20 -1, 21 20 39 -1, 39 40 21 -1, 16 22 41 -1, 41 35 16 -1,
]
texCoord USE building-TEXCOORD
creaseAngle 1
texCoordIndex [
23 24 25 -1, 25 26 23 -1, 27 23 26 -1, 26 28 27 -1, 29 27 28 -1, 28 30 29 -1, 31 29 30 -1, 30 32 31 -1, 33 31 32 -1, 32 34 33 -1, 24 35 36 -1, 36 25 24 -1,
]
}
}
Shape {
appearance Appearance {
#material Material {}
texture ImageTexture {
url "platformledge.jpg"
}
}
geometry IndexedFaceSet {
coord USE building-COORD
coordIndex [
9 10 29 -1, 29 28 9 -1, 10 11 30 -1, 30 29 10 -1, 11 12 31 -1, 31 30 11 -1, 12 13 32 -1, 32 31 12 -1, 13 14 33 -1, 33 32 13 -1, 15 9 28 -1, 28 34 15 -1,
]
texCoord USE building-TEXCOORD
creaseAngle 1
texCoordIndex [
12 9 11 -1, 11 10 12 -1, 12 9 11 -1, 11 10 12 -1, 12 9 11 -1, 11 10 12 -1, 12 9 11 -1, 11 10 12 -1, 12 9 11 -1, 11 10 12 -1, 12 9 11 -1, 11 10 12 -1,
]
}
}
Shape {
appearance Appearance {
#material Material {}
texture ImageTexture {
url "setsides.jpg"
}
}
geometry IndexedFaceSet {
coord USE building-COORD
coordIndex [
28 36 35 -1, 28 29 36 -1, 29 37 36 -1, 29 30 37 -1, 30 38 37 -1, 30 31 38 -1, 31 39 38 -1, 31 32 39 -1,
]
texCoord USE building-TEXCOORD
creaseAngle 1
texCoordIndex [
13 14 15 -1, 13 16 14 -1, 16 17 14 -1, 16 18 17 -1, 18 19 17 -1, 18 20 19 -1, 20 11 19 -1, 20 9 11 -1,
]
}
}
Shape {
appearance Appearance {
#material Material {}
texture ImageTexture {
url "platformside.jpg"
}
}
geometry IndexedFaceSet {
coord USE building-COORD
coordIndex [
1 10 9 -1, 1 2 10 -1, 2 11 10 -1, 2 3 11 -1, 3 12 11 -1, 3 4 12 -1, 4 13 12 -1, 4 5 13 -1,
]
texCoord USE building-TEXCOORD
creaseAngle 1
texCoordIndex [
12 11 10 -1, 12 9 11 -1, 12 11 10 -1, 12 9 11 -1, 12 11 10 -1, 12 9 11 -1, 12 11 10 -1, 12 9 11 -1,
]
}
}
Shape {
appearance Appearance {
#material Material {}
texture ImageTexture {
url "bldgtall.jpg"
}
}
geometry IndexedFaceSet {
coord USE building-COORD
coordIndex [
16 24 23 -1, 16 17 24 -1, 17 25 24 -1, 17 18 25 -1, 18 26 25 -1, 18 19 26 -1, 19 27 26 -1, 19 20 27 -1,
]
texCoord USE building-TEXCOORD
creaseAngle 1
texCoordIndex [
10 22 12 -1, 10 21 22 -1, 10 22 12 -1, 10 21 22 -1, 10 22 12 -1, 10 21 22 -1, 10 22 12 -1, 10 21 22 -1,
]
}
}
]
scale 1.2 1 1
}



################################################################################
# Lasers
################################################################################
Group{
children[
DEF laser_a LaserDrawPlane{
 color .5 .25 1
 drawCoord[10 0 0,0 3 0,-10 0 0]
 laserPosition -10 30 5
}
DEF laser_b LaserDrawPlane{
 color .5 .25 1
 drawCoord[10 0 0,0 3 0,-10 0 0]
 laserPosition -10 30 -5
}
DEF laser_c LaserDrawPlane{
 color .5 .25 1
 drawCoord[10 0 0,0 3 0,-10 0 0]
 laserPosition 10 30 5
}
DEF laser_d LaserDrawPlane{
 color .5 .25 1
 drawCoord[10 0 0,0 3 0,-10 0 0]
 laserPosition 10 30 -5
}

#######################################################
# Backdrop configuration
#######################################################
DEF backdrop_clock TimeSensor{cycleInterval 10 loop TRUE enabled FALSE}
DEF laser_backdrop_interp_a PositionInterpolator{key[0,.2,.3,.5,.7,.8,1] keyValue[  0  0  125,-60 10  75, 60 10  75, 60  0  75,-60  0  75,  0 10  125,  0  0  125,]}
DEF laser_backdrop_interp_c PositionInterpolator{key[0,.2,.3,.5,.7,.8,1] keyValue[  0  0  125, 60 10  75,-60 10  75,-60  0  75, 60  0  75,  0 10  125,  0  0  125,]}
DEF laser_backdrop_interp_b PositionInterpolator{key[0,.5,1] keyValue[-20 0 -10,20 0 -10,-20 0 -10]}
DEF laser_backdrop_interp_d PositionInterpolator{key[0,.5,1] keyValue[20 0 -10,-20 0 -10,20 0 -10]}

#######################################################
# off
#######################################################
DEF laseroff_clock TimeSensor{loop TRUE enabled FALSE}
DEF laseroff PositionInterpolator{key[0,1] keyValue[0 1000 0,0 1000 0]}

#######################################################
# Spin
#######################################################
DEF spin_clock TimeSensor{cycleInterval 7 loop TRUE enabled FALSE}
DEF spin_script Script{
eventIn   SFFloat set_fraction
eventOut  SFVec3f value_a_changed
eventOut  SFVec3f value_b_changed
eventOut  SFVec3f value_c_changed
eventOut  SFVec3f value_d_changed
url"vrmlscript:
function set_fraction(v,t){
 rot = new SFRotation(0,1,0,(v * 6.284));
 value_a_changed = rot.multVec(new SFVec3f(95,5,95));
 value_b_changed = rot.multVec(new SFVec3f(-95,5,95));
 value_c_changed = rot.multVec(new SFVec3f(95,5,-95));
 value_d_changed = rot.multVec(new SFVec3f(-95,5,-95));
}
"}

#######################################################
# Swoop
#######################################################
DEF spinswoop_clock TimeSensor{cycleInterval 7 loop TRUE enabled FALSE}
DEF spinswoop_script Script{
eventIn   SFFloat set_fraction
eventOut  SFVec3f value_a_changed
eventOut  SFVec3f value_b_changed
eventOut  SFVec3f value_c_changed
eventOut  SFVec3f value_d_changed
url"vrmlscript:
function set_fraction(v,t){
 if(v <= .5){ r = ((v*2) * 3.142)- 2;}
 else{ r = (((1 - v) * 2) * 3.142)- 2;}
 swoop = new SFRotation(1,0,0,r);
 spin = new SFRotation(0,1,0,(v * 6.284));
 t = new SFVec3f(0,0,0);
 rot = new SFRotation();
 x = new VrmlMatrix(); x.setTransform(t,spin);
 y = new VrmlMatrix(); y.setTransform(t,swoop);
 x.multLeft(y).getTransform(t,rot);
 value_a_changed = (new SFRotation(0,1,0,-.7855 )).multVec(  rot.multVec(  new SFVec3f(0,-95,0)  )  );
 value_b_changed = (new SFRotation(0,1,0,-2.3565)).multVec(  rot.multVec(  new SFVec3f(0,-95,0)  )  );
 value_c_changed = (new SFRotation(0,1,0, .7855 )).multVec(  rot.multVec(  new SFVec3f(0,-95,0)  )  );
 value_d_changed = (new SFRotation(0,1,0, 2.3565)).multVec(  rot.multVec(  new SFVec3f(0,-95,0)  )  );
}

"}
]}

################################################################################
# Spots
################################################################################

Group{
children[
DEF spot_a LaserDrawPlane{
 color 1 .5 0
 drawCoord[8 0 -4,4 0 -8,-4 0 -8,-8 0 -4,-8 0 4,-4 0 8,4 0 8,8 0 4]
 laserPosition 46 30 25
}
DEF spot_b LaserDrawPlane{
 color 1 .5 0
 drawCoord[8 0 -4,4 0 -8,-4 0 -8,-8 0 -4,-8 0 4,-4 0 8,4 0 8,8 0 4]
 laserPosition  -42 30 25
}
DEF spot_c LaserDrawPlane{
 color 1 .5 0
 drawCoord[8 0 -4,4 0 -8,-4 0 -8,-8 0 -4,-8 0 4,-4 0 8,4 0 8,8 0 4]
 laserPosition 46 30 -25
}
DEF spot_d LaserDrawPlane{
 color 1 .5 0
 drawCoord[8 0 -4,4 0 -8,-4 0 -8,-8 0 -4,-8 0 4,-4 0 8,4 0 8,8 0 4]
 laserPosition -42 30 -25
}
#######################################################
# Swirl
#######################################################
DEF spot_swirl_clock TimeSensor{cycleInterval 5 loop TRUE enabled FALSE}
DEF spot_swirl_script Script{
eventIn   SFFloat set_fraction
eventOut  SFVec3f value_a_changed
eventOut  SFVec3f value_b_changed
eventOut  SFVec3f value_c_changed
eventOut  SFVec3f value_d_changed
url"vrmlscript:
function set_fraction(v,t){
 rot = new SFRotation(0,1,0,(v * 6.284));
 
 value_a_changed = rot.multVec(new SFVec3f( 10,0, 10));
 value_b_changed = rot.multVec(new SFVec3f(-10,0, 10));
 value_c_changed = rot.multVec(new SFVec3f( 10,0,-10));
 value_d_changed = rot.multVec(new SFVec3f(-10,0,-10));
}
"}

#######################################################
# lead singer highlight
#######################################################
DEF lead_clock TimeSensor{cycleInterval 5 loop TRUE enabled FALSE}
DEF lead_interp_a PositionInterpolator{
key[0,.5,1]
keyValue[0 0 0,0 30 0,0 0 0]}
DEF lead_interp_b PositionInterpolator{
key[0,.5,1]
keyValue[0 30 0,0 0 0,0 30 0]}
DEF lead_interp_c PositionInterpolator{
key[0,.5,1]
keyValue[0 30 0,0 0 0,0 30 0]}
DEF lead_interp_d PositionInterpolator{
key[0,.5,1]
keyValue[0 0 0,0 30 0,0 0 0]}

#######################################################
# Band Highlight
#######################################################
DEF band_clock TimeSensor{cycleInterval 10 loop TRUE enabled FALSE}
DEF band_interp_a PositionInterpolator{
key[0,.25,.5,.75,1]
keyValue[13 0 10,-13 0 0,13 0 -10,-13 0 0,13 0 10]}
DEF band_interp_b PositionInterpolator{
key[0,.25,.5,.75,1]
keyValue[-13 0 10,13 0 0,-13 0 -10,13 0 0,-13 0 10]}
DEF band_interp_c PositionInterpolator{
key[0,.25,.5,.75,1]
keyValue[13 0 -10,-13 0 0,13 0 10,-13 0 0,13 0 -10]}
DEF band_interp_d PositionInterpolator{
key[0,.25,.5,.75,1]
keyValue[-13 0 -10,13 0 0,-13 0 10,13 0 0,-13 0 -10]}


#######################################################
# off
#######################################################
DEF off_clock TimeSensor{cycleInterval 5 loop TRUE enabled FALSE}
DEF off_interp PositionInterpolator{
key[0,1]
keyValue[0 50 0,0 50 0]}

]}

################################################################################
# Big Light
################################################################################
DEF l5_switch Switch{
whichChoice -1
choice[
DEF l5 LaserDrawPlane{
 color 1 .35 0
 drawCoord[ 20 0 -10,10 0 -20,-10 0 -20,-20 0 -10,-20 0 10,-10 0 20,10 0 20,20 0 10,]
 laserPosition 0 30 0
}
]}

################################################################################
# Light Unit Geometry
################################################################################

Transform{
children[
Transform {
scale 1.2 1 1
children [
Shape {
appearance Appearance {
#material Material {}
texture ImageTexture {
url "platformside.jpg"
}
}
geometry
IndexedFaceSet {
coord
Coordinate {
point [ 6.826 42.41 0 4.827 42.41 4.827 0 42.41 6.826 -4.827 42.41 4.827 -6.826 42.41 0 -4.827 42.41 -4.827 0 42.41 -6.826 4.827 42.41 -4.827 9.829 45.71 0 6.95 45.71 6.95 0 45.71 9.829 -6.95 45.71 6.95 -9.829 45.71 0 -6.95 45.71 -6.95 0 45.71 -9.829
6.95 45.71 -6.95 17.1 45.61 0 12.09 45.61 12.09 0 45.61 17.1 -12.09 45.61 12.09 -17.1 45.61 0 -12.09 45.61 -12.09 0 45.61 -17.1 12.09 45.61 -12.09 17.1 48.26 0 12.09 48.26 12.09 0 48.26 17.1 -12.09 48.26 12.09 -17.1 48.26 0 -12.09 48.26 -12.09 0 48.26
-17.1 12.09 48.26 -12.09 ] }
coordIndex [ 1 0 8 9 -1 2 1 9 10 -1 3 2 10 11 -1 4 3 11 12 -1 5 4 12 13 -1 6 5 13 14 -1 7 6 14 15 -1 0 7 15 8 -1 9 8 16 17 -1 10 9 17 18 -1 11 10 18 19 -1 12 11 19 20 -1 13 12 20 21 -1 14 13 21 22 -1 15 14 22 23 -1 8 15 23 16 -1 17 16 24 25 -1 18 17 25
26 -1 19 18 26 27 -1 20 19 27 28 -1 21 20 28 29 -1 22 21 29 30 -1 23 22 30 31 -1 16 23 31 24 -1 ] texCoordIndex
[ 4 5 7 6 -1 0 1 3 2 -1 28 29 31 30 -1 24 25 27 26 -1 20 21 23 22 -1 16 17 19 18 -1 12 13 15 14 -1 8 9 11 10 -1 40 41 43 42 -1 36 37 39 38 -1 32 33 35 34 -1 60 61 63 62 -1 56 57 59 58 -1 52 53 55 54 -1 48 49 51 50 -1 44 45 47 46 -1 64 65 67 66 -1 68 64
66 69 -1 70 68 69 71 -1 72 70 71 73 -1 74 72 73 75 -1 80 74 75 81 -1 78 76 77 79 -1 65 78 79 67 -1 ] texCoord
TextureCoordinate { point [ .1273 1.005 .8782 1.005 -.0379 .4513 1.043 .4513 -.2028 1 1.232 1 -.5185 .4514 1.548 .4514 -.2518 1.005 1.177 1.005 -.5662 .4583 1.492 .4583 .1218 1.005 .8727 1.005 -.04341 .4513 1.038 .4513 .1305 1.01 .8814 1.001 -.03819
.4578 1.043 .4447 -.2688 1.007 1.181 .9977 -.5946 .4545 1.494 .4413 -.2276 .992 1.181 .9831 -.544 .4555 1.484 .4428 .1113 .9869 .8622 .996 -.05038 .4308 1.031 .4439 .2728 .3931 .7264 .3978 .1085 -.09126 .8978 -.08306 .2179 .3939 .6732 .3891 .04594 -.08878
.8381 -.09702 .6892 .3882 1.331 .3882 .4515 -.09337 1.569 -.09338 .1213 .3934 .7743 .3934 -.1203 -.09628 1.016 -.09628 .1935 .3916 .6506 .3916 .0244 -.09477 .8197 -.09477 .3383 .3962 .7975 .3962 .1684 -.09234 .9673 -.09234 .04706 .3945 .6878 .3945 -.19
-.08596 .9248 -.08596 .2404 .383 .8703 .383 .007324 -.08939 1.103 -.08939 5 1.336 6 1.336 5 2.044 6 2.044 4 1.336 4 2.044 3 1.336 3 2.044 2 1.336 2 2.044 1 1.336 1 2.044 8 1.336 8 2.044 7 1.336 7 2.044 0 1.336 0 2.044 ] }
}
}
]
}
Transform {
children Shape {
appearance Appearance {
#material Material {}
texture ImageTexture {
url "platformside.jpg"
}
textureTransform TextureTransform {
center .5 .5
}
}
geometry
IndexedFaceSet {
coord Coordinate {
point [
14.23 47.67 0, 10.06 47.67 10.06, 0 47.67 14.23, -10.06 47.67 10.06, -14.23 47.67 0, 5.239 63.97 1.209e-005, 3.704 63.97 3.704, 0 63.97 5.239, -3.704 63.97 3.704, -5.239 63.97 1.163e-005,
]
}
coordIndex [
1 0 5 6 -1, 2 1 6 7 -1, 3 2 7 8 -1, 4 3 8 9 -1,
]
texCoord TextureCoordinate {
point [
.50131 .391173, .301929 .389863, 4.91478e-005 .392825, -.319167 .392136, -.49869 .391173, .268231 .995097, .100805 .995097, 4.35486e-006 .998059, -.118133 .99737, -.29145 .995097,
]
}
creaseAngle 3
texCoordIndex [
1 0 5 6 -1, 2 1 6 7 -1, 3 2 7 8 -1, 4 3 8 9 -1,
]
}
}
scale 1.2 1 1
}
Transform {
children Shape {
appearance Appearance {
#material Material {}
texture ImageTexture {
url "platformside.jpg"
}
textureTransform TextureTransform {
scale .05 1
}
}
geometry
IndexedFaceSet {
coord Coordinate {
point [
13.04 45.61 10, 12.09 45.61 12.09, -12.09 45.61 12.09, -12.09 45.61 -12.09, 12.09 45.61 -12.09, 13.04 48.23 10, 12.09 48.26 12.09, -12.09 48.26 12.09, -12.09 48.26 -12.09, 12.09 48.26 -12.09, 13.07 48.26 -10, 13.07 45.61 -10, -12.99 48.26 9.49,
-12.99 45.61 9.49, -13.11 48.26 -9.421, -13.11 45.61 -9.421, 58.65 46.6 39.3, 58.41 46.6 39.82, -54.21 46.42 39.88, -53.69 46.4 -39.75, 58.24 46.4 -40.19, 58.65 47.25 39.3, 58.41 47.26 39.82, -54.21 47.04 39.88, -53.69 47.07 -39.75, 58.49 47.07 -39.67,
58.49 46.4 -39.67, -54.54 47.04 39.37, -54.54 46.42 39.37, -54.05 47.07 -39.21, -54.05 46.4 -39.21,
]
}
coordIndex [
17 16 22 -1, 23 27 18 -1, 19 30 24 -1, 21 22 16 -1, 27 28 18 -1, 29 24 30 -1, 1 0 16 -1, 16 17 1 -1, 6 1 17 -1, 17 22 6 -1, 7 12 27 -1, 27 23 7 -1, 2 7 23 -1, 23 18 2 -1, 3 15 30 -1, 30 19 3 -1, 9 10 25 -1, 11 4 20 -1, 20 26 11 -1, 10 11 26 -1, 26 25
10 -1, 5 6 22 -1, 22 21 5 -1, 13 2 18 -1, 18 28 13 -1, 14 8 24 -1, 24 29 14 -1, 15 14 29 -1, 29 30 15 -1,
]
texCoord TextureCoordinate {
point [
0 0, 1 0, 0 1, 1 1,
]
}
creaseAngle 3
texCoordIndex [
2 0 3 -1, 1 3 0 -1, 1 3 0 -1, 3 0 1 -1, 3 0 1 -1, 2 0 3 -1, 0 1 3 -1, 3 2 0 -1, 0 1 3 -1, 3 2 0 -1, 0 1 3 -1, 3 2 0 -1, 0 1 3 -1, 3 2 0 -1, 0 1 3 -1, 3 2 0 -1, 0 1 3 -1, 0 1 3 -1, 3 2 0 -1, 0 1 3 -1, 3 2 0 -1, 0 1 3 -1, 3 2 0 -1, 0 1 3 -1, 3 2 0 -1,
0 1 3 -1, 3 2 0 -1, 0 1 3 -1, 3 2 0 -1,
]
}
}
scale 1.2 1 1
}
]
translation 0 0 0
scale .65 .65 .65
}

################################################################################
# Stage
################################################################################
DEF dc_clock TimeSensor{cycleInterval 2 loop TRUE}
DEF dc_interp OrientationInterpolator{key[0,.5,1]keyValue[0 1 0 0,0 1 0 3.142,0 1 0 6.284]}
DEF dc1_clock TimeSensor{cycleInterval 10 loop TRUE}
DEF dc1_interp OrientationInterpolator{key[0,.5,1]keyValue[0 1 0 0,0 1 0 3.142,0 1 0 6.284]}

DEF data_2_switch Switch{
whichChoice 0
choice[

Transform{
children[
DEF data_cylinder Transform {
children[ 
Shape {
appearance Appearance {
material Material {emissiveColor 0 1 0 diffuseColor 0 1 0 specularColor 1 .7 0}
texture DEF textpng  ImageTexture {
url "text.png"
}
}
geometry IndexedFaceSet {
coord Coordinate { point [ 3.697 3.141 0 3.516 3.141 -1.145 2.99 3.141 -2.18 2.173 3.141 -2.999 1.141 3.141 -3.526 0 3.141 -3.708 -1.141 3.141 -3.526 -2.173 3.141 -2.999 -2.99 3.141 -2.18 -3.516 3.141
-1.145 -3.697 3.141 0 -3.516 3.141 1.145 -2.99 3.141 2.18 -2.173 3.141 2.999 -1.141 3.141 3.526 0 3.141 3.708 1.141 3.141 3.526 2.173 3.141 2.999 2.99 3.141 2.18 3.516 3.141 1.145 3.697 9.823 0 3.516
9.823 -1.145 2.99 9.823 -2.18 2.173 9.823 -2.999 1.141 9.823 -3.526 0 9.823 -3.708 -1.141 9.823 -3.526 -2.173 9.823 -2.999 -2.99 9.823 -2.18 -3.516 9.823 -1.145 -3.697 9.823 0 -3.516 9.823 1.145 -2.99
9.823 2.18 -2.173 9.823 2.999 -1.141 9.823 3.526 0 9.823 3.708 1.141 9.823 3.526 2.173 9.823 2.999 2.99 9.823 2.18 3.516 9.823 1.145 ] }
coordIndex [
0 21 20 -1, 0 1 21 -1, 1 22 21 -1, 1 2 22 -1, 2 23 22 -1, 2 3 23 -1, 3 24 23 -1, 3 4 24 -1, 4 25 24 -1, 4 5 25 -1, 5 26 25 -1, 5 6 26 -1, 6 27 26 -1, 6 7 27 -1, 7 28 27 -1, 7 8 28 -1, 8 29 28 -1,
8 9 29 -1, 9 30 29 -1, 9 10 30 -1, 10 31 30 -1, 10 11 31 -1, 11 32 31 -1, 11 12 32 -1, 12 33 32 -1, 12 13 33 -1, 13 34 33 -1, 13 14 34 -1, 14 35 34 -1, 14 15 35 -1, 15 36 35 -1, 15 16 36 -1, 16
37 36 -1, 16 17 37 -1, 17 38 37 -1, 17 18 38 -1, 18 39 38 -1, 18 19 39 -1, 19 20 39 -1, 19 0 20 -1,
]
texCoord TextureCoordinate { point [ .75 -1.328 .8 -1.328 .85 -1.328 .9 -1.328 .95 -1.328 1 -1.328 .05 -1.328 .1 -1.328 .15 -1.328 .2 -1.328 .25 -1.328 .3 -1.328 .35 -1.328 .4 -1.328 .45 -1.328 .5 -1.328
.55 -1.328 .6 -1.328 .65 -1.328 .7 -1.328 .75 2.328 .8 2.328 .85 2.328 .9 2.328 .95 2.328 1 2.328 .05 2.328 .1 2.328 .15 2.328 .2 2.328 .25 2.328 .3 2.328 .35 2.328 .4 2.328 .45 2.328 .5 2.328 .55 2.328
.6 2.328 .65 2.328 .7 2.328 0 -1.328 0 2.328 ] }
solid FALSE
texCoordIndex [
0 21 20 -1, 0 1 21 -1, 1 22 21 -1, 1 2 22 -1, 2 23 22 -1, 2 3 23 -1, 3 24 23 -1, 3 4 24 -1, 4 25 24 -1, 4 5 25 -1, 40 26 41 -1, 40 6 26 -1, 6 27 26 -1, 6 7 27 -1, 7 28 27 -1, 7 8 28 -1, 8 29 28
-1, 8 9 29 -1, 9 30 29 -1, 9 10 30 -1, 10 31 30 -1, 10 11 31 -1, 11 32 31 -1, 11 12 32 -1, 12 33 32 -1, 12 13 33 -1, 13 34 33 -1, 13 14 34 -1, 14 35 34 -1, 14 15 35 -1, 15 36 35 -1, 15 16 36 -1,
16 37 36 -1, 16 17 37 -1, 17 38 37 -1, 17 18 38 -1, 18 39 38 -1, 18 19 39 -1, 19 20 39 -1, 19 0 20 -1,
]
}
}
ROUTE dc_clock.fraction_changed TO dc_interp.set_fraction
ROUTE dc_interp.value_changed TO data_cylinder.set_rotation 

]}
]translation 0 -22 0 scale 6 5 6}
]}

DEF data_1_switch Switch{
whichChoice -1
choice[
Transform{ scale 11 5 11 translation 0 -10 -60 rotation 1 0 0 0.3 children[
DEF data_plane Transform {  
children Shape {
appearance Appearance {
material Material {emissiveColor 0 1 0 diffuseColor 0 1 0 specularColor 1 .7 0 transparency .5}
texture ImageTexture {url "orgycircletext.gif"}
}
geometry IndexedFaceSet {
coord Coordinate {point [ -19.235 0 -19.235 -19.235 0 19.235 19.235 0 19.235 19.235 0 -19.235 0 0 0 0 0 -26.285 -26.285 0 0 0 0 26.285 26.285 0 0 -30 0 -30 -30 0 30 30 0 30 30 0 -30 0 0 -34.612 -34.612 0 0 0 0 34.612 34.612 0 0 ] }
coordIndex [ 0 4 5 -1 4 3 5 -1 0 6 4 -1 6 1 4 -1 1 7 4 -1 7 2 4 -1 4 8 3 -1 4 2 8 -1 0 4 9 -1 2 4 11 -1 1 4 10 -1 4 3 12 -1 5 0 9 13 -1 3 5 13 12 -1 4 5 13 -1 0 6 14 9 -1 6 1 10 14 -1 6 4 14 -1 1 7 15 10 -1 7 2 11 15 -1 7 4 15 -1 2 8 16 11 -1 8 3 12 16 -1 4 8 16 -1 ] 
texCoordIndex [ 0 4 5 -1 4 3 5 -1 0 6 4 -1 6 1 4 -1 1 7 4 -1 7 2 4 -1 4 8 3 -1 4 2 8 -1 0 4 9 -1 2 4 11 -1 1 4 10 -1 4 3 12 -1 5 0 9 13 -1 3 5 13 12 -1 4 5 13 -1 0 6 14 9 -1 6 1 10 14 -1 6 4 14 -1 1 7 15 10 -1 7 2 11 15 -1 7 4 15 -1 2 8 16 11 -1 8 3 12 16 -1 4 8 16 -1 ]
texCoord TextureCoordinate { point [ .222 .778 .222 .222 .778 .222 .778 .778 .5 .5 .5 .88 .12 .5 .5 .12 .88 .5 .067 .933 .067 .067 .933 .067 .933 .933 .5 1 0 .5 .5 0 1 .5 ] }
}}}
ROUTE dc1_clock.fraction_changed TO dc1_interp.set_fraction
ROUTE dc1_interp.value_changed TO data_plane.set_rotation 
]}
]}


DEF singers_cylinder Transform {
children [
Transform {
children Shape {
appearance Appearance {
material Material {
ambientIntensity 0
diffuseColor 0 .007843 .02745
shininess .2875
transparency .5
}
texture ImageTexture {
url "support_arms2.jpg"
}
}
geometry DEF _1 IndexedFaceSet {
coord Coordinate { point [ -.025 0 .025 .025 0 .025 -.025 0 -.025 .025 0 -.025 -.025 2.719 .025 .025 2.719 .025 -.025 2.719 -.025 .025 2.719 -.025 ] }
coordIndex [
0 2 3 1 -1, 4 5 7 6 -1, 0 1 5 4 -1, 1 3 7 5 -1, 3 2 6 7 -1, 2 0 4 6 -1,
]
texCoord TextureCoordinate { point [ 0 0 1 0 0 1 1 1 ] }
texCoordIndex [
1 3 2 0 -1, 0 1 3 2 -1, 0 1 3 2 -1, 0 1 3 2 -1, 0 1 3 2 -1, 0 1 3 2 -1,
]
}
}
translation -1.391 -1.359 1.389
}
Transform {
children Shape {
appearance Appearance {
material Material {
ambientIntensity 0
diffuseColor 0 .007843 .02745
shininess .2875
transparency .5
}
texture ImageTexture {
url "support_arms2.jpg"
}
}
geometry DEF _2 IndexedFaceSet {
coord Coordinate { point [ -.025 0 .025 .025 0 .025 -.025 0 -.025 .025 0 -.025 -.025 2.719 .025 .025 2.719 .025 -.025 2.719 -.025 .025 2.719 -.025 ] }
coordIndex [
0 2 3 1 -1, 4 5 7 6 -1, 0 1 5 4 -1, 1 3 7 5 -1, 3 2 6 7 -1, 2 0 4 6 -1,
]
texCoord TextureCoordinate { point [ 0 0 1 0 0 1 1 1 ] }
texCoordIndex [
1 3 2 0 -1, 0 1 3 2 -1, 0 1 3 2 -1, 0 1 3 2 -1, 0 1 3 2 -1, 0 1 3 2 -1,
]
}
}
translation -1.391 -1.359 -1.387
}
Transform {
children Shape {
appearance Appearance {
material Material {
ambientIntensity 0
diffuseColor 0 .007843 .02745
shininess .2875
transparency .5
}
texture ImageTexture {
url "support_arms2.jpg"
}
}
geometry DEF _3 IndexedFaceSet {
coord Coordinate { point [ -.025 0 .025 .025 0 .025 -.025 0 -.025 .025 0 -.025 -.025 2.719 .025 .025 2.719 .025 -.025 2.719 -.025 .025 2.719 -.025 ] }
coordIndex [
0 2 3 1 -1, 4 5 7 6 -1, 0 1 5 4 -1, 1 3 7 5 -1, 3 2 6 7 -1, 2 0 4 6 -1,
]
texCoord TextureCoordinate { point [ 0 0 1 0 0 1 1 1 ] }
texCoordIndex [
1 3 2 0 -1, 0 1 3 2 -1, 0 1 3 2 -1, 0 1 3 2 -1, 0 1 3 2 -1, 0 1 3 2 -1,
]
}
}
translation 1.392 -1.359 -1.387
}
Transform {
children Shape {
appearance Appearance {
material Material {
ambientIntensity 0
diffuseColor 0 .007843 .02745
shininess .2875
transparency .5
}
texture ImageTexture {
url "support_arms2.jpg"
}
}
geometry DEF _4 IndexedFaceSet {
coord Coordinate { point [ -.025 0 .025 .025 0 .025 -.025 0 -.025 .025 0 -.025 -.025 2.719 .025 .025 2.719 .025 -.025 2.719 -.025 .025 2.719 -.025 ] }
coordIndex [
0 2 3 1 -1, 4 5 7 6 -1, 0 1 5 4 -1, 1 3 7 5 -1, 3 2 6 7 -1, 2 0 4 6 -1,
]
texCoord TextureCoordinate { point [ 0 0 1 0 0 1 1 1 ] }
texCoordIndex [
1 3 2 0 -1, 0 1 3 2 -1, 0 1 3 2 -1, 0 1 3 2 -1, 0 1 3 2 -1, 0 1 3 2 -1,
]
}
}
translation 1.392 -1.359 1.389
}
Transform {
children Shape {
appearance Appearance {
material Material {
ambientIntensity 0
diffuseColor 0 .007843 .01176
emissiveColor 0 .007843 .01176
shininess .2875
transparency .8
}
texture ImageTexture {
url "glass.gif"
}
}
geometry DEF _5 IndexedFaceSet {
coord Coordinate { point [ 34.01 .194 0 24.05 .194 -24.05 0 .194 -34.01 -24.05 .194 -24.05 -34.01 .194 0 -24.05 .194 24.05 0 .194 34.01 24.05 .194 24.05 -34.17 46 0 -24.2 46 -24.05 -24.2 46 24.05 33.86
46 0 23.9 46 -24.05 -.154 46 -34.01 -.154 46 34.01 23.9 46 24.05 ] }
coordIndex [
9 8 3 -1, 4 3 8 -1, 8 10 4 -1, 5 4 10 -1, 11 12 1 -1, 1 0 11 -1, 12 13 2 -1, 2 1 12 -1, 13 9 3 -1, 3 2 13 -1, 10 14 6 -1, 6 5 10 -1, 14 15 7 -1, 7 6 14 -1, 15 11 0 -1, 0 7 15 -1,
]
texCoord TextureCoordinate { point [ .75 -2.282 .972 -2.282 1 -2.282 .028 -2.282 .25 -2.282 .472 -2.282 .5 -2.282 .528 -2.282 .25 3.282 .028 3.282 .472 3.282 .75 3.282 .972 3.282 0 3.282 .5 3.282 .528
3.282 -.028 3.282 0 -2.282 ] }
solid FALSE
texCoordIndex [
9 8 3 -1, 4 3 8 -1, 8 10 4 -1, 5 4 10 -1, 11 12 1 -1, 1 0 11 -1, 16 13 17 -1, 2 1 12 -1, 13 9 3 -1, 3 17 13 -1, 10 14 6 -1, 6 5 10 -1, 14 15 7 -1, 7 6 14 -1, 15 11 0 -1, 0 7 15 -1,
]
}
}
translation .004465 -1.355 0
scale .05813 .05813 .05813
}
]
translation 3.00635 6.55535 12.3723
scale 1.42397 2 1.42397
}
DEF platforms Transform {
children [
DEF middle_platform Transform {
children DEF platform_6 Transform {
children Shape {
appearance Appearance {
material Material {}
texture ImageTexture {
url "top8.jpg"
}
}
geometry DEF _7 IndexedFaceSet {
coord Coordinate { point [ 2.358 3.729 -2.358 3.335 3.729 0 3.335 3.361 0 0 3.729 -3.335 -2.358 3.729 -2.358 -3.335 3.729 0 -3.335 3.361 0 -2.358 3.729 2.358 -2.358 3.361 2.358 0 3.729 3.335 0 3.361 3.335
2.358 3.729 2.358 2.358 3.361 2.358 2.83 2.943 -2.83 4.002 2.943 0 2.83 2.943 2.83 0 2.943 4.002 -2.83 2.943 2.83 -4.002 2.943 0 -2.83 2.943 -2.83 0 2.943 -4.002 2.83 3.384 -2.83 4.002 3.384 0 0 3.384
-4.002 -2.83 3.384 -2.83 -4.002 3.384 0 -2.83 3.384 2.83 0 3.384 4.002 2.83 3.384 2.83 -.304 .292 .002 -.304 2.672 .002 .303 .292 .002 .303 2.672 .002 .151 .292 .265 .151 2.672 .265 -.153 .292 .265 -.153
2.672 .265 -.392 .293 -.676 -.784 .293 .002 -.392 .293 .68 .391 .293 .68 .782 .293 .002 .391 .293 -.676 -.784 0 .002 .782 0 .002 .391 0 .68 -.392 0 .68 -.392 2.666 .68 -.784 2.666 .002 -.392 2.666 -.676
.391 2.666 -.676 .782 2.666 .002 .391 2.666 .68 -.392 2.959 .68 -.784 2.959 .002 .391 2.959 .68 .782 2.959 .002 ] }
coordIndex [
7 5 6 8 -1, 9 7 8 10 -1, 11 9 10 12 -1, 1 11 12 2 -1, 1 0 3 4 5 7 9 11 -1, 13 14 15 16 17 18 19 20 -1, 26 25 18 17 -1, 27 26 17 16 -1, 28 27 16 15 -1, 22 28 15 14 -1, 22 21 23 24 25 26 27 28 -1,
33 31 32 34 -1, 35 33 34 36 -1, 29 35 36 30 -1, 37 38 39 40 41 42 -1, 45 44 41 40 -1, 46 45 40 39 -1, 43 46 39 38 -1, 47 48 49 50 51 52 -1, 53 54 48 47 -1, 55 53 47 52 -1, 56 55 52 51 -1,
]
texCoord TextureCoordinate { point [ .502 .086 .502 .001 .003 .086 .003 .001 .5 .088 .5 .001 0 .088 0 .001 .625 .086 .625 .001 .003 .088 .821 .551 .712 .822 .449 .934 .186 .822 .077 .551 .186 .28 .449
.168 .712 .28 .758 .859 .886 .55 .758 .242 .45 .114 .141 .242 .013 .55 .141 .859 .45 .987 .5 .086 .5 .004 .782 .086 .282 .086 .282 .001 .782 .001 .505 .079 1.561 .079 1.561 .001 .505 .001 -.551 .079 -.551
.001 0 .086 0 .004 .879 .556 .754 .865 .451 .993 .148 .865 .022 .556 .148 .246 .451 .118 .754 .246 1 .056 0 .056 .25 .024 .75 .024 .501 .652 .549 .556 .501 .459 .404 .459 .356 .556 .404 .652 .75 .001
.5 .083 .75 .083 .745 .001 .255 .001 .255 .083 .745 .083 .25 .001 .25 .083 ] }
texCoordIndex [
6 4 5 7 -1, 0 8 9 1 -1, 2 0 1 3 -1, 0 10 3 1 -1, 11 12 13 14 15 16 17 18 -1, 19 20 21 22 23 24 25 26 -1, 29 30 31 32 -1, 33 34 35 36 -1, 37 33 36 38 -1, 27 39 40 28 -1, 41 42 43 44 45 46 47 48 -1,
51 50 50 51 -1, 52 51 51 52 -1, 49 52 52 49 -1, 53 54 55 56 57 58 -1, 66 5 60 67 -1, 63 62 65 64 -1, 5 66 67 60 -1, 53 54 55 56 57 58 -1, 59 5 60 61 -1, 62 63 64 65 -1, 5 59 61 60 -1,
]
}
}
}
translation .421114 -.166868 -1.21746
scale 1 1.40079 1
}
DEF left_back_platform Transform {
children USE platform_6
translation -9.02351 -.074791 -6.94667
scale 1 1.57791 1
}
DEF left_front_platform Transform {
children USE platform_6
translation -12.6759 2.38419e-007 5.72922
}
DEF singers_platform Transform {
children USE platform_6
translation 2.94313 -.197151 12.2179
}
DEF drummers_platform Transform {
children USE platform_6
translation 13.034 -1.52848e-008 -3.00784
scale 1 1.45755 1
}
]
}
DEF stage_lights Transform {
children [
DEF drummers_lights Transform {
children DEF light_bank_8 Transform {
children [
Transform {
children DEF _9 Transform {
children [
Transform {
children Shape {
appearance Appearance {
material Material {transparency .5 emissiveColor 1 1 1}
texture ImageTexture {
url "graylight.png"
}
}
geometry DEF _10 IndexedFaceSet {
coord Coordinate { point [ .596 1.19 .054 .581 1.19 -.391 .598 6.149 .101 .577 6.149 -.491 ] }
coordIndex [
0 1 3 -1, 3 2 0 -1,
]
texCoord TextureCoordinate { point [ 0 .083 .001 .834 1 1 1 0 ] }
ccw FALSE
texCoordIndex [
0 1 2 -1, 2 3 0 -1,
]
}
}
translation .138511 0 .594299
rotation 0 1 0 1.53402
}
Transform {
children Shape {
appearance Appearance {
material Material{}
texture ImageTexture {
url "light_texture.jpg"
}
}
geometry DEF _11 IndexedFaceSet {
coord Coordinate { point [ .577 1.19 -.499 .285 1.19 -.149 .6 1.19 .166 .577 .589 -.499 .285 .589 -.149 .6 .589 .166 ] }
coordIndex [
0 1 4 -1, 4 3 0 -1, 1 2 5 -1, 5 4 1 -1,
]
texCoord TextureCoordinate { point [ -.004 .002 .458 .002 .999 .002 -.004 1 .458 1 .999 1 ] }
ccw FALSE
creaseAngle 3.14159
texCoordIndex [
0 1 4 -1, 4 3 0 -1, 1 2 5 -1, 5 4 1 -1,
]
}
}
translation .138511 0 .594299
rotation 0 1 0 1.53402
}
]
}
translation 1.00647 0 1.69577
}
Transform {
children USE _9
translation -.832762 0 1.69577
}
Transform {
children USE _9
translation 2.00647 0 .69577
}
Transform {
children USE _9
translation -1.82995 0 .69577
}
Transform {
children USE _9
translation -1.81423 0 -1.30423
}
Transform {
children USE _9
translation 2.00647 0 -1.30423
}
]
}
translation 12.9504 -.333582 -3.41105
scale 1 1.51799 1
}
DEF left_back_lights Transform {
children USE light_bank_8
translation -9.32216 -.244121 -7.05336
scale 1 1.5579 1
}
DEF left_front_lights Transform {
children USE light_bank_8
translation -12.7192 0 5.43456
}
DEF singers_lights Transform {
children USE light_bank_8
translation 2.83291 0 12.141
}
DEF middle_plat_lights Transform {
children USE light_bank_8
translation .231255 -.414277 -1.38754
scale 1 1.60841 1
}
]
}




####################################################################################
#Top Level Nodes
####################################################################################

DEF nav NavigationInfo{headlight FALSE avatarSize [0.25, 3.5, 0.75]
}

Viewpoint {
position 0 3.5 4
orientation 0 1 0 3.142
description "Enter View"
}

Viewpoint{position 2.95277 7 11.6153   orientation 0 1 0 3.10345   description"singer"}
Viewpoint{position 13.1127 8.25 -4.36783  orientation 0 1 0 3.08288   description"drummer"}
Viewpoint{position 0.519835 8.25 -1.88175 orientation 0 1 0 3.08888   description"middle"}
Viewpoint{position -8.58449 8.75 -6.79391 orientation 0 -1 0 3.12634  description"back"}
Viewpoint{position -13.0025 7.25 5.0709    orientation 0 1 0 3.02057   description"left"}


Background {
groundColor .7 .4 .3
skyColor 0 0 0
backUrl "city_image2.jpg"
frontUrl "city_image2.jpg"
leftUrl "city_image2.jpg"
rightUrl "city_image2.jpg"
}



DEF light_1 DirectionalLight{color 1 .5 .75}
DEF light_2 DirectionalLight{color .5 .75 1}

DEF stage_light_1  DirectionalLight{color 1 .5 .5 intensity .75 direction 0 -1 1}
DEF stage_light_1a DirectionalLight{color 1 .5 .5 intensity .75 direction 0 1 .5}
DEF stage_light_2 SpotLight{
 location 0 39.2753 28.9929 
 direction 0 -1 -1 
 color 1 0 0 
 radius 200
 beamWidth .9855
 cutOffAngle .9855
 intensity 1
}

####################################################################################
#Control panel
####################################################################################

PROTO LabelSphere[
exposedField SFFloat   radius 1
exposedField SFFloat   textSize 1
exposedField MFString  label  ""
exposedField SFColor   color 1 1 1
]{
Shape{
appearance Appearance{material Material{transparency .5}}
geometry Sphere{radius IS radius}
}
Billboard{
children DEF tt Transform{
children Shape{
appearance Appearance{material Material{emissiveColor IS color diffuseColor 0 0 0 specularColor 1 1 1}}
geometry Text{fontStyle DEF fs FontStyle { size 1 family "ARIAL" style "BOLD" justify "MIDDLE"}string IS label}
}}}
Script{
field SFNode           tt USE tt
field SFNode           fs USE fs
exposedField SFFloat   radius IS radius
exposedField SFFloat   textSize IS textSize
directOutput TRUE
url"vrmlscript:
function initialize(){
 tt.translation = new SFVec3f(0,(-.25 * (radius*textSize)),0);
 fs.size = radius*textSize;
}
"}
}



HUD{
children[

Transform{ translation -.5  .3  -1      children[ DEF light_panel_button  TouchSensor{} Shape{appearance Appearance{material Material{diffuseColor 1 0 0 transparency 0 specularColor 1 .5 .5}}geometry Sphere{radius .025}}]}
DEF light_panel_script Script{eventIn  SFTime  touch field    SFBool  isOpen FALSE eventOut SFInt32 choice_changed url"vrmlscript:function touch(){ if(isOpen){choice_changed = -1; isOpen = false;} else{choice_changed = 0; isOpen = true;}}"}
DEF light_panel_switch Switch{ whichChoice -1 choice[ Transform{ translation .1 0 0 children[
Transform{ translation  -.1 -.2  -.85   children[ Shape{appearance Appearance{material Material{diffuseColor 0 0 0 transparency .25 emissiveColor 0 0 0}}geometry Box{size .8 .15 .001}}]}

Transform{ translation -.25 -.2  -.75   children[ DEF bt1  TouchSensor{} Shape{appearance Appearance{material Material{diffuseColor 0 0 0 transparency .5 emissiveColor 1 .5 0}}geometry Sphere{radius .02}}]}
Transform{ translation -.3  -.2  -.75   children[ DEF bt2  TouchSensor{} Shape{appearance Appearance{material Material{diffuseColor 0 0 0 transparency .5 emissiveColor 0 1 1 }}geometry Sphere{radius .02}}]}
Transform{ translation -.35 -.2  -.75   children[ DEF bt3  TouchSensor{} Shape{appearance Appearance{material Material{diffuseColor 0 0 0 transparency .5 emissiveColor 1 0 1 }}geometry Sphere{radius .02}}]}

Transform{ translation  0   -.2  -.75   children[ DEF bt4  TouchSensor{} Shape{appearance Appearance{material Material{diffuseColor 0 0 0 transparency .5 emissiveColor 1 .5 0}}geometry Sphere{radius .02}}]}
Transform{ translation -.05 -.2  -.75   children[ DEF bt5  TouchSensor{} Shape{appearance Appearance{material Material{diffuseColor 0 0 0 transparency .5 emissiveColor 0 1 1 }}geometry Sphere{radius .02}}]}
Transform{ translation -.1  -.2  -.75   children[ DEF bt6  TouchSensor{} Shape{appearance Appearance{material Material{diffuseColor 0 0 0 transparency .5 emissiveColor 1 0 1 }}geometry Sphere{radius .02}}]}

Transform{ translation   0  -.15  -.75  children[ DEF bt7  TouchSensor{} LabelSphere{ label "O"  textSize .8 color  0 1 0 radius .02}]}
Transform{ translation -.05 -.15  -.75  children[ DEF bt8  TouchSensor{} LabelSphere{ label "SW" textSize .8 color  0 1 0 radius .02}]}
Transform{ translation -.1  -.15  -.75  children[ DEF bt9  TouchSensor{} LabelSphere{ label "UD" textSize .8 color  0 1 0 radius .02}]}
Transform{ translation -.15 -.15  -.75  children[ DEF bt10 TouchSensor{} LabelSphere{ label "LR" textSize .8 color  0 1 0 radius .02}]}

Transform{ translation -.25 -.15  -.75  children[ DEF bt11 TouchSensor{} LabelSphere{ label "O"  textSize .8 color  0 1 0 radius .02}]}
Transform{ translation -.3  -.15  -.75  children[ DEF bt12 TouchSensor{} LabelSphere{ label "SW" textSize .8 color  0 1 0 radius .02}]}
Transform{ translation -.35 -.15  -.75  children[ DEF bt13 TouchSensor{} LabelSphere{ label "SP" textSize .8 color  0 1 0 radius .02}]}
Transform{ translation -.4  -.15  -.75  children[ DEF bt14 TouchSensor{} LabelSphere{ label "BD" textSize .8 color  0 1 0 radius .02}]}
                                                      
Transform{ translation .2   -.2   -.75  children[ DEF bt15 TouchSensor{} Shape{appearance Appearance{material Material{diffuseColor 0 0 0 transparency .5 emissiveColor 1 .5 0}}geometry Sphere{radius .02}}]}
Transform{ translation .15  -.2   -.75  children[ DEF bt16 TouchSensor{} Shape{appearance Appearance{material Material{diffuseColor 0 0 0 transparency .5 emissiveColor 0 1 1 }}geometry Sphere{radius .02}}]}
Transform{ translation .1   -.2   -.75  children[ DEF bt17 TouchSensor{} Shape{appearance Appearance{material Material{diffuseColor 0 0 0 transparency .5 emissiveColor 1 0 1 }}geometry Sphere{radius .02}}]}

Transform{ translation .2   -.15  -.75  children[ DEF bt18 TouchSensor{} LabelSphere{ label "SD"  textSize .8 color  0 1 0 radius .02}]}
Transform{ translation .15  -.15  -.75  children[ DEF bt19 TouchSensor{} LabelSphere{ label "LD"  textSize .8 color  0 1 0 radius .02}]}
Transform{ translation .1   -.15  -.75  children[ DEF bt20 TouchSensor{} LabelSphere{ label "MS"  textSize .8 color  0 1 0 radius .02}]}
]}
]}
ROUTE light_panel_button.touchTime        TO light_panel_script.touch
ROUTE light_panel_script.choice_changed   TO light_panel_switch.set_whichChoice
Transform{ translation  0    .325  -1.1 children[ Shape{appearance Appearance{material Material{diffuseColor 0 0 0 transparency .25 emissiveColor 0 0 0}}geometry Box{size 1.25 .15 .001}}]}
Transform{ translation .5    .3   -1  children[ DEF bt30 TouchSensor{} LabelSphere{ label "9" color  1 0 1 radius .04}]}
Transform{ translation .4    .3   -1  children[ DEF bt29 TouchSensor{} LabelSphere{ label "8" color  1 0 1 radius .04}]}
Transform{ translation .3    .3   -1  children[ DEF bt28 TouchSensor{} LabelSphere{ label "7" color  1 0 1 radius .04}]}
Transform{ translation .2    .3   -1  children[ DEF bt27 TouchSensor{} LabelSphere{ label "6" color  1 0 1 radius .04}]}
Transform{ translation .1    .3   -1  children[ DEF bt26 TouchSensor{} LabelSphere{ label "5" color  1 0 1 radius .04}]}
Transform{ translation  0    .3   -1  children[ DEF bt25 TouchSensor{} LabelSphere{ label "4" color  1 0 1 radius .04}]}
Transform{ translation -.1   .3   -1  children[ DEF bt24 TouchSensor{} LabelSphere{ label "3" color  1 0 1 radius .04}]}
Transform{ translation -.2   .3   -1  children[ DEF bt23 TouchSensor{} LabelSphere{ label "2" color  1 0 1 radius .04}]}
Transform{ translation -.3   .3   -1  children[ DEF bt22 TouchSensor{} LabelSphere{ label "1" color  1 0 1 radius .04}]}
Transform{ translation -.4   .3   -1  children[ DEF bt21 TouchSensor{} LabelSphere{ label "0" color  1 0 1 radius .04}]}


#########being song panel
Transform{ translation .6  .3  -1      children[ DEF song_panel_button  TouchSensor{} Shape{appearance Appearance{material Material{diffuseColor 1 1 0 transparency 0 specularColor .9 .5 .5}}geometry Sphere{radius .025}}]}
DEF song_panel_script Script{eventIn  SFTime  touch field    SFBool  isOpen FALSE eventOut SFInt32 choice_changed url"vrmlscript:function touch(){ if(isOpen){choice_changed = -1; isOpen = false;} else{choice_changed = 0; isOpen = true;}}"}
DEF song_panel_switch Switch{ whichChoice -1 choice[ Transform{ translation .1 0 0 children[
Transform{ translation  -.07 -.2  -.85   children[ Shape{appearance Appearance{material Material{diffuseColor 0 0 0 transparency .25 emissiveColor 0 0 0}}geometry Box{size .8 .15 .001}}]}

Transform{ translation -.4  -.15  -.75  children[ DEF bt31  TouchSensor{} LabelSphere{ label "1"  textSize 1.5 color  0 1 0 radius .015}]}
Transform{ translation -.35 -.15  -.75  children[ DEF bt32  TouchSensor{} LabelSphere{ label "2"  textSize 1.5 color  0 1 0 radius .015}]}
Transform{ translation -.3  -.15  -.75  children[ DEF bt33  TouchSensor{} LabelSphere{ label "3"  textSize 1.5 color  0 1 0 radius .015}]}
Transform{ translation -.25 -.15  -.75  children[ DEF bt34  TouchSensor{} LabelSphere{ label "4"  textSize 1.5 color  0 1 0 radius .015}]}
Transform{ translation -.2  -.15  -.75  children[ DEF bt35  TouchSensor{} LabelSphere{ label "5"  textSize 1.5 color  0 1 0 radius .015}]}
Transform{ translation -.15 -.15  -.75  children[ DEF bt36  TouchSensor{} LabelSphere{ label "6"  textSize 1.5 color  0 1 0 radius .015}]}
Transform{ translation -.1  -.15  -.75  children[ DEF bt37  TouchSensor{} LabelSphere{ label "7"  textSize 1.5 color  0 1 0 radius .015}]}
Transform{ translation -.05 -.15  -.75  children[ DEF bt38  TouchSensor{} LabelSphere{ label "8"  textSize 1.5 color  0 1 0 radius .015}]}                                           
Transform{ translation  .0  -.15  -.75  children[ DEF bt39  TouchSensor{} LabelSphere{ label "9"  textSize 1.5 color  0 1 0 radius .015}]}
Transform{ translation  .05 -.15  -.75  children[ DEF bt40  TouchSensor{} LabelSphere{ label "10" textSize 1.5 color  0 1 0 radius .015}]}
Transform{ translation  .1  -.15  -.75  children[ DEF bt41  TouchSensor{} LabelSphere{ label "11" textSize 1.5 color  0 1 0 radius .015}]}
Transform{ translation  .15 -.15  -.75  children[ DEF bt42  TouchSensor{} LabelSphere{ label "12" textSize 1.5 color  0 1 0 radius .015}]}
Transform{ translation  .2  -.15  -.75  children[ DEF bt43  TouchSensor{} LabelSphere{ label "13" textSize 1.5 color  0 1 0 radius .015}]}
Transform{ translation  .25 -.15  -.75  children[ DEF bt44  TouchSensor{} LabelSphere{ label "14" textSize 1.5 color  0 1 0 radius .015}]}
Transform{ translation  -.1 -.2  -.75   children[ DEF bt45  TouchSensor{} LabelSphere{ label "ST" textSize 1.5 color  0 1 0 radius .015}]}

]}
]}
#### routes open the song panel
ROUTE song_panel_button.touchTime        TO song_panel_script.touch
ROUTE song_panel_script.choice_changed   TO song_panel_switch.set_whichChoice

#########end song panel



]}


Transform{ translation 10000 10000 10000  
children[ 
DEF btDEATH TouchSensor{} 
LabelSphere{ label "XX" color  1 0 1 radius 1}
Viewpoint{description "Bounce" position 0 0 10}
]}


####################################################################################
#Lighting
####################################################################################
DEF shared_clock TimeSensor{loop TRUE cycleInterval 10}

DEF light_script Script{

eventIn SFFloat set_fraction

################################################
# ROUTE'd from buttons
################################################
eventIn SFTime set_1 
eventIn SFTime set_2 
eventIn SFTime set_3 
eventIn SFTime set_4 
eventIn SFTime set_5 
eventIn SFTime set_6 
eventIn SFTime set_7 
eventIn SFTime set_8 
eventIn SFTime set_9 
eventIn SFTime set_10
eventIn SFTime set_11
eventIn SFTime set_12
eventIn SFTime set_13
eventIn SFTime set_14
eventIn SFTime set_15
eventIn SFTime set_16
eventIn SFTime set_17

################################################
# Handle toggled effects
################################################
eventIn SFTime set_dtoggle_1  field   SFBool data_1_on    FALSE   eventOut SFBool data_1_changed 
eventIn SFTime set_dtoggle_2  field   SFBool data_2_on    FALSE   eventOut SFBool data_2_changed 
eventIn SFTime set_mstoggle   field   SFBool mainstage_on FALSE   eventOut SFBool mainstage_changed  

eventIn SFBool set_data_1
eventIn SFBool set_data_2
eventIn SFBool set_mainstage

################################################
# Handle lights in radio button fashion
################################################
eventIn SFInt32 set_laser_animation
eventIn SFInt32 set_laser_color
eventIn SFInt32 set_spot_animation
eventIn SFInt32 set_spot_color
eventIn SFInt32 set_stage_color

eventOut SFInt32 laser_animation_changed
eventOut SFInt32 laser_color_changed
eventOut SFInt32 spot_animation_changed
eventOut SFInt32 spot_color_changed
eventOut SFInt32 stage_color_changed

field SFInt32 last_laser_animation 1
field SFInt32 last_laser_color     1
field SFInt32 last_spot_animation  1
field SFInt32 last_spot_color      1
field SFInt32 last_stage_color     1
field SFFloat last_fraction 0

field SFNode light1           USE light_1
field SFNode light2           USE light_2
field SFNode stage_light_1    USE stage_light_1 
field SFNode stage_light_1a   USE stage_light_1a 
field SFNode stage_light_2    USE stage_light_2
field SFNode laser_a          USE laser_a
field SFNode laser_b          USE laser_b
field SFNode laser_c          USE laser_c
field SFNode laser_d          USE laser_d
field SFNode spot_a           USE spot_a
field SFNode spot_b           USE spot_b
field SFNode spot_c           USE spot_c
field SFNode spot_d           USE spot_d
field SFNode spot_swirl       USE spot_swirl_clock
field SFNode spot_lead        USE lead_clock 
field SFNode spot_band        USE band_clock 
field SFNode spot_off         USE off_clock 
field SFNode spinswoop        USE spinswoop_clock
field SFNode spin             USE spin_clock
field SFNode laseroff         USE laseroff_clock
field SFNode backdrop         USE backdrop_clock
field SFNode mainstage_switch USE l5_switch
field SFNode mainstage        USE l5
field SFNode data_1_switch    USE data_1_switch
field SFNode data_2_switch    USE data_2_switch

field SFBool isHardware TRUE

eventIn   SFVec3f   set_light_1
eventIn   SFVec3f   set_light_2
eventOut  SFVec3f   light_1_changed
eventOut  SFVec3f   light_2_changed

field SFNode sw USE light_panel_switch

directOutput TRUE

url"vrmlscript:

function set_fraction(v,t){
 if(v < last_fraction && sw.whichChoice == 0){
  laser_animation_changed = last_laser_animation;
  laser_color_changed =     last_laser_color;
  spot_animation_changed =  last_spot_animation;
  spot_color_changed =      last_spot_color;
  stage_color_changed =     last_stage_color;
  data_1_changed = data_1_on;
  data_2_changed = data_2_on;
  mainstage_changed = mainstage_on;
 }
 last_fraction = v;
}

function set_light_1(v,t){if(!isHardware){return;}r = new SFRotation(new SFVec3f(0,0,1),v.normalize()).inverse(); light_1_changed = r.multVec(new SFVec3f(0,0,1));}
function set_light_2(v,t){if(!isHardware){return;}r = new SFRotation(new SFVec3f(0,0,1),v.normalize()).inverse(); light_2_changed = r.multVec(new SFVec3f(0,0,1));}

function set_stage_color_1(){ stage_light_1a.color = stage_light_1.color = new SFColor(1,.8,.4); stage_light_2.color = new SFColor(1,.7,.2); mainstage.set_color = new SFColor(1,.7,.2);}
function set_stage_color_2(){ stage_light_1a.color = stage_light_1.color = new SFColor(.6,.8,1); stage_light_2.color = new SFColor(.1,.4,1);  mainstage.set_color = new SFColor(.1,.4,1); }
function set_stage_color_3(){ stage_light_1a.color = stage_light_1.color = new SFColor(1,.7,1);  stage_light_2.color = new SFColor(1,.3,1); mainstage.set_color = new SFColor(1,.3,1);}

function set_laser_color_1(){ laser_a.set_color = new SFColor(.2,1,0);    laser_b.set_color = new SFColor(.2,1,0);    laser_c.set_color = new SFColor(.2,1,0); laser_d.set_color = new SFColor(.2,1,0);}
function set_laser_color_2(){ laser_a.set_color = new SFColor(0,1,1);     laser_b.set_color = new SFColor(.5,1,1);    laser_c.set_color = new SFColor(0,1,1); laser_d.set_color = new SFColor(.5,1,1);}
function set_laser_color_3(){ laser_a.set_color = new SFColor(.5,.125,1); laser_b.set_color = new SFColor(.5,.125,1); laser_c.set_color = new SFColor(.5,.125,1); laser_d.set_color = new SFColor(.5,.125,1);}

function set_spot_color_1(){ spot_a.set_color = new SFColor(1,.5,0);  spot_b.set_color = new SFColor(1,.5,0);  spot_c.set_color = new SFColor(1,.5,0); spot_d.set_color = new SFColor(1,.5,0);}
function set_spot_color_2(){ spot_a.set_color = new SFColor(0,1,1);   spot_b.set_color = new SFColor(0,1,1);   spot_c.set_color = new SFColor(0,1,1); spot_d.set_color = new SFColor(0,1,1);}
function set_spot_color_3(){ spot_a.set_color = new SFColor(.5,0,1);  spot_b.set_color = new SFColor(.5,0,1);  spot_c.set_color = new SFColor(.5,0,1); spot_d.set_color = new SFColor(.5,0,1);}

function reset_spot(){ spot_off.enabled = false; spot_lead.enabled = false; spot_band.enabled = false; spot_swirl.enabled = false;}
function set_spot_1(){if(!spot_off.enabled){   reset_spot();  spot_off.enabled = true;}}
function set_spot_2(){if(!spot_swirl.enabled){ reset_spot();  spot_swirl.enabled = true;}}
function set_spot_3(){if(!spot_lead.enabled){  reset_spot();  spot_lead.enabled = true;}}
function set_spot_4(){if(!spot_band.enabled){  reset_spot();  spot_band.enabled = true;}}

function reset_laser(){laseroff.enabled = false; spinswoop.enabled = false; spin.enabled = false; backdrop.enabled = false;}
function set_laser_1(){if(!laseroff.enabled){  reset_laser(); laseroff.enabled = true;}}
function set_laser_2(){if(!spinswoop.enabled){ reset_laser(); spinswoop.enabled = true;}}
function set_laser_3(){if(!spin.enabled){      reset_laser(); spin.enabled = true;}}
function set_laser_4(){if(!backdrop.enabled){  reset_laser(); backdrop.enabled = true;}}

function set_data_1(v){    if(!v){data_1_switch.whichChoice = -1;}    else{data_1_switch.whichChoice = 0;}}
function set_data_2(v){    if(!v){data_2_switch.whichChoice = -1;}    else{data_2_switch.whichChoice = 0;}}
function set_mainstage(v){ if(!v){mainstage_switch.whichChoice = -1;} else{mainstage_switch.whichChoice = 0;}}
function set_dtoggle_1(v){ if(data_1_on){  data_1_on = false;    data_1_changed = false;}     else{data_1_on = true;    data_1_changed = true;}}
function set_dtoggle_2(v){ if(data_2_on){  data_2_on = false;    data_2_changed = false;}     else{data_2_on = true;    data_2_changed = true;}}
function set_mstoggle(v){ if(mainstage_on){mainstage_on = false; mainstage_changed = false;}  else{mainstage_on = true; mainstage_changed = true;}}

function set_laser_animation(v){last_laser_animation = v; if(v == 1){set_laser_1();}        if(v == 2){set_laser_2();}       if(v == 3){set_laser_3();}       if(v == 4){set_laser_4();}}
function set_laser_color(v){    last_laser_color = v;     if(v == 1){set_laser_color_1();}  if(v == 2){set_laser_color_2();} if(v == 3){set_laser_color_3();}}
function set_spot_animation(v){ last_spot_animation = v;  if(v == 1){set_spot_1();}         if(v == 2){set_spot_2();}        if(v == 3){set_spot_3();}        if(v == 4){set_spot_4();}}
function set_spot_color(v){     last_spot_color = v;      if(v == 1){set_spot_color_1();}   if(v == 2){set_spot_color_2();}  if(v == 3){set_spot_color_3();}}
function set_stage_color(v){    last_stage_color = v;      if(v == 1){set_stage_color_1();} if(v == 2){set_stage_color_2();} if(v == 3){set_stage_color_3();}}

function set_1(){laser_color_changed = 1;}
function set_2(){laser_color_changed = 2;}
function set_3(){laser_color_changed = 3;}

function set_4(){spot_color_changed = 1;}
function set_5(){spot_color_changed = 2;}
function set_6(){spot_color_changed = 3;}

function set_7(){ spot_animation_changed = 1;}
function set_8(){ spot_animation_changed = 2;}
function set_9(){ spot_animation_changed = 3;}
function set_10(){spot_animation_changed = 4;}

function set_11(){laser_animation_changed = 1;}
function set_12(){laser_animation_changed = 2;}
function set_13(){laser_animation_changed = 3;}
function set_14(){laser_animation_changed = 4;}

function set_15(){stage_color_changed = 1;}
function set_16(){stage_color_changed = 2;}
function set_17(){stage_color_changed = 3;}

function initialize(){ 
 set_laser_animation(1);
 set_spot_animation(1);
 Browser.setGravity(false);
}
"}

DEF player MovieTexture{url ""}
DEF song_script Script{
eventIn SFTime set_0
eventIn SFTime set_1
eventIn SFTime set_2
eventIn SFTime set_3
eventIn SFTime set_4
eventIn SFTime set_5
eventIn SFTime set_6
eventIn SFTime set_7
eventIn SFTime set_8
eventIn SFTime set_9
eventIn SFTime set_10
eventIn SFTime set_11
eventIn SFTime set_12
eventIn SFTime set_13
eventIn SFTime set_14
eventIn SFInt32 set_song
eventIn SFFloat set_fraction
field   SFInt32 last_song        0
field   SFFloat last_fraction    0
field   SFNode  player USE player
field   SFNode  sw USE song_panel_switch
field MFString songs[

#"http://www.avatara.com/real/orgy/track01.rm", #songTitle "Vapor Transmission"
#"http://www.avatara.com/real/orgy/track02.rm", #songTitle "Suckerface"
#"http://www.avatara.com/real/orgy/track03.rm", #songTitle "The Odyssey"
#"http://www.avatara.com/real/orgy/track04.rm", #songTitle "Opticon"
#"http://www.avatara.com/real/orgy/track05.rm", #songTitle "Fiction"
#"http://www.avatara.com/real/orgy/track06.rm", #songTitle "Eva"
#"http://www.avatara.com/real/orgy/track07.rm", #songTitle "107"
#"http://www.avatara.com/real/orgy/track08.rm", #songTitle "Dramatica"                                           
#"http://www.avatara.com/real/orgy/track09.rm", #songTitle "Eyes"
#"http://www.avatara.com/real/orgy/track10.rm", #songTitle "Saving Faces"
#"http://www.avatara.com/real/orgy/track11.rm", #songTitle "Re-Creation"
#"http://www.avatara.com/real/orgy/track12.rm", #songTitle "Chasing Sirens"
#"http://www.avatara.com/real/orgy/track13.rm", #songTitle "Where's Gerroid"
#"http://www.avatara.com/real/orgy/track14.rm" #songTitle "Extra Track"


"http://ww6.blaxxun.com/ct/real/orgy/track01.rm",
"http://ww6.blaxxun.com/ct/real/orgy/track02.rm",
"http://ww6.blaxxun.com/ct/real/orgy/track03.rm",
"http://ww6.blaxxun.com/ct/real/orgy/track04.rm",
"http://ww6.blaxxun.com/ct/real/orgy/track05.rm",
"http://ww6.blaxxun.com/ct/real/orgy/track06.rm",
"http://ww6.blaxxun.com/ct/real/orgy/track07.rm",
"http://ww6.blaxxun.com/ct/real/orgy/track08.rm",
"http://ww6.blaxxun.com/ct/real/orgy/track09.rm",
"http://ww6.blaxxun.com/ct/real/orgy/track10.rm",
"http://ww6.blaxxun.com/ct/real/orgy/track11.rm",
"http://ww6.blaxxun.com/ct/real/orgy/track12.rm",
"http://ww6.blaxxun.com/ct/real/orgy/track13.rm",
"http://ww6.blaxxun.com/ct/real/orgy/track14.rm",

#"rtsp://rv.warnerbros.com/reprise/orgy/stream/track01.rm",
#"rtsp://rv.warnerbros.com/reprise/orgy/stream/track02.rm",
#"rtsp://rv.warnerbros.com/reprise/orgy/stream/track03.rm",
#"rtsp://rv.warnerbros.com/reprise/orgy/stream/track04.rm",
#"rtsp://rv.warnerbros.com/reprise/orgy/stream/track05.rm",
#"rtsp://rv.warnerbros.com/reprise/orgy/stream/track06.rm",
#"rtsp://rv.warnerbros.com/reprise/orgy/stream/track07.rm",
#"rtsp://rv.warnerbros.com/reprise/orgy/stream/track08.rm",
#"rtsp://rv.warnerbros.com/reprise/orgy/stream/track09.rm",
#"rtsp://rv.warnerbros.com/reprise/orgy/stream/track10.rm",
#"rtsp://rv.warnerbros.com/reprise/orgy/stream/track11.rm",
#"rtsp://rv.warnerbros.com/reprise/orgy/stream/track12.rm",
#"rtsp://rv.warnerbros.com/reprise/orgy/stream/track13.rm",
#"rtsp://rv.warnerbros.com/reprise/orgy/stream/track14.rm",


]
eventOut SFInt32 song_changed
directOutput TRUE
url"vrmlscript:
function set_0(){ song_changed = 0;  last_song = 0;}
function set_1(){ song_changed = 1;  last_song = 1;}
function set_2(){ song_changed = 2;  last_song = 2;}
function set_3(){ song_changed = 3;  last_song = 3;}
function set_4(){ song_changed = 4;  last_song = 4;}
function set_5(){ song_changed = 5;  last_song = 5;}
function set_6(){ song_changed = 6;  last_song = 6;}
function set_7(){ song_changed = 7;  last_song = 7;}
function set_8(){ song_changed = 8;  last_song = 8;}
function set_9(){ song_changed = 9;  last_song = 9;}
function set_10(){song_changed = 10; last_song = 10;}
function set_11(){song_changed = 11; last_song = 11;}
function set_12(){song_changed = 12; last_song = 12;}
function set_13(){song_changed = 13; last_song = 13;}
function set_14(){song_changed = 14; last_song = 14;}
function set_song(v,t){
 if(v == 0){player.stopTime = t; return;}
 if(player.url[0] != songs[v - 1]){
   player.stopTime = t;
   player.url = new MFString(songs[v - 1]);
   player.startTime = t + .1;
 }
}
function set_fraction(v,t){
 if(v < last_fraction && sw.whichChoice == 0){song_changed = last_song;}
 last_fraction = v;
}
"}

ROUTE bt31.touchTime  TO song_script.set_1
ROUTE bt32.touchTime  TO song_script.set_2
ROUTE bt33.touchTime  TO song_script.set_3
ROUTE bt34.touchTime  TO song_script.set_4
ROUTE bt35.touchTime  TO song_script.set_5
ROUTE bt36.touchTime  TO song_script.set_6
ROUTE bt37.touchTime  TO song_script.set_7
ROUTE bt38.touchTime  TO song_script.set_8
ROUTE bt39.touchTime  TO song_script.set_9
ROUTE bt40.touchTime TO song_script.set_10
ROUTE bt41.touchTime TO song_script.set_11
ROUTE bt42.touchTime TO song_script.set_12
ROUTE bt43.touchTime TO song_script.set_13
ROUTE bt44.touchTime TO song_script.set_14
ROUTE bt45.touchTime TO song_script.set_0



####################################################################################
#Shared
####################################################################################

DEF SharedZone BlaxxunZone{
events[
DEF event_1    SharedEvent{name "P_event1"}
DEF event_2    SharedEvent{name "P_event2"}
DEF event_3    SharedEvent{name "P_event3"}
DEF event_4    SharedEvent{name "P_event4"}
DEF event_5    SharedEvent{name "P_event5"}
DEF event_6    SharedEvent{name "P_event6"}
DEF event_7    SharedEvent{name "P_event7"}
DEF event_8    SharedEvent{name "P_event8"}
DEF event_9    SharedEvent{name "event9"}
DEF event_10   SharedEvent{name "P_event10"}
]}
ROUTE bt1.touchTime   TO light_script.set_1 
ROUTE bt2.touchTime   TO light_script.set_2 
ROUTE bt3.touchTime   TO light_script.set_3 
ROUTE bt4.touchTime   TO light_script.set_4 
ROUTE bt5.touchTime   TO light_script.set_5 
ROUTE bt6.touchTime   TO light_script.set_6 
ROUTE bt7.touchTime   TO light_script.set_7 
ROUTE bt8.touchTime   TO light_script.set_8 
ROUTE bt9.touchTime   TO light_script.set_9 
ROUTE bt10.touchTime  TO light_script.set_10
ROUTE bt11.touchTime  TO light_script.set_11
ROUTE bt12.touchTime  TO light_script.set_12
ROUTE bt13.touchTime  TO light_script.set_13
ROUTE bt14.touchTime  TO light_script.set_14
ROUTE bt15.touchTime  TO light_script.set_15
ROUTE bt16.touchTime  TO light_script.set_16
ROUTE bt17.touchTime  TO light_script.set_17
ROUTE bt18.touchTime  TO light_script.set_dtoggle_1        
ROUTE bt19.touchTime  TO light_script.set_dtoggle_2        
ROUTE bt20.touchTime  TO light_script.set_mstoggle         


ROUTE light_script.data_1_changed          TO event_1.set_bool    ROUTE event_1.bool_changed  TO light_script.set_data_1
ROUTE light_script.data_2_changed          TO event_2.set_bool    ROUTE event_2.bool_changed  TO light_script.set_data_2
ROUTE light_script.mainstage_changed       TO event_3.set_bool    ROUTE event_3.bool_changed  TO light_script.set_mainstage
ROUTE light_script.laser_animation_changed TO event_4.set_int32   ROUTE event_4.int32_changed TO light_script.set_laser_animation
ROUTE light_script.laser_color_changed     TO event_5.set_int32   ROUTE event_5.int32_changed TO light_script.set_laser_color
ROUTE light_script.spot_animation_changed  TO event_6.set_int32   ROUTE event_6.int32_changed TO light_script.set_spot_animation
ROUTE light_script.spot_color_changed      TO event_7.set_int32   ROUTE event_7.int32_changed TO light_script.set_spot_color
ROUTE light_script.stage_color_changed     TO event_8.set_int32   ROUTE event_8.int32_changed TO light_script.set_stage_color

ROUTE btDEATH.isActive TO event_9.set_bool

ROUTE song_script.song_changed TO event_10.set_int32
ROUTE event_10.int32_changed   TO song_script.set_song


DEF gesture_script Script{
eventIn SFTime set_0
eventIn SFTime set_1
eventIn SFTime set_2
eventIn SFTime set_3
eventIn SFTime set_4
eventIn SFTime set_5
eventIn SFTime set_6
eventIn SFTime set_7
eventIn SFTime set_8
eventIn SFTime set_9
eventIn SFFloat   set_fraction
field   SFInt32   last_gesture 0
field   SFFloat   last_fraction 0
eventOut SFInt32 gesture_changed
url"vrmlscript:
function set_0(v,t){gesture_changed = 0; last_gesture = 0;}
function set_1(v,t){gesture_changed = 1; last_gesture = 1;}
function set_2(v,t){gesture_changed = 2; last_gesture = 2;}
function set_3(v,t){gesture_changed = 3; last_gesture = 3;}
function set_4(v,t){gesture_changed = 4; last_gesture = 4;}
function set_5(v,t){gesture_changed = 5; last_gesture = 5;}
function set_6(v,t){gesture_changed = 6; last_gesture = 6;}
function set_7(v,t){gesture_changed = 7; last_gesture = 7;}
function set_8(v,t){gesture_changed = 8; last_gesture = 8;}
function set_9(v,t){gesture_changed = 9; last_gesture = 9;}
function set_fraction(v,t){ if(v < last_fraction){gesture_changed = last_gesture;} last_fraction = v;}
"}
ROUTE bt21.touchTime                 TO gesture_script.set_0
ROUTE bt22.touchTime                 TO gesture_script.set_1
ROUTE bt23.touchTime                 TO gesture_script.set_2
ROUTE bt24.touchTime                 TO gesture_script.set_3
ROUTE bt25.touchTime                 TO gesture_script.set_4
ROUTE bt26.touchTime                 TO gesture_script.set_5
ROUTE bt27.touchTime                 TO gesture_script.set_6
ROUTE bt28.touchTime                 TO gesture_script.set_7
ROUTE bt29.touchTime                 TO gesture_script.set_8
ROUTE bt30.touchTime                 TO gesture_script.set_9
ROUTE gesture_script.gesture_changed TO SharedZone.set_myAvatarGesture

ROUTE shared_clock.fraction_changed TO light_script.set_fraction
ROUTE shared_clock.fraction_changed TO gesture_script.set_fraction
ROUTE shared_clock.fraction_changed TO song_script.set_fraction
####################################################################################
#Lighting Routes
####################################################################################
ROUTE spinswoop_script.value_a_changed      TO light_script.set_light_1 
ROUTE spinswoop_script.value_b_changed      TO light_script.set_light_2 
ROUTE light_script.light_1_changed          TO light_1.set_direction 
ROUTE light_script.light_2_changed          TO light_2.set_direction 

#spot animation routes
ROUTE spot_swirl_clock.fraction_changed        TO spot_swirl_script.set_fraction
ROUTE spot_swirl_script.value_a_changed        TO spot_a.set_position
ROUTE spot_swirl_script.value_b_changed        TO spot_b.set_position
ROUTE spot_swirl_script.value_c_changed        TO spot_c.set_position
ROUTE spot_swirl_script.value_d_changed        TO spot_d.set_position
ROUTE lead_clock.fraction_changed              TO lead_interp_a.set_fraction
ROUTE lead_clock.fraction_changed              TO lead_interp_b.set_fraction
ROUTE lead_clock.fraction_changed              TO lead_interp_c.set_fraction
ROUTE lead_clock.fraction_changed              TO lead_interp_d.set_fraction
ROUTE lead_interp_a.value_changed              TO spot_a.set_position
ROUTE lead_interp_b.value_changed              TO spot_b.set_position
ROUTE lead_interp_c.value_changed              TO spot_c.set_position
ROUTE lead_interp_d.value_changed              TO spot_d.set_position
ROUTE band_clock.fraction_changed              TO band_interp_a.set_fraction
ROUTE band_clock.fraction_changed              TO band_interp_b.set_fraction
ROUTE band_clock.fraction_changed              TO band_interp_c.set_fraction
ROUTE band_clock.fraction_changed              TO band_interp_d.set_fraction
ROUTE band_interp_a.value_changed              TO spot_a.set_position
ROUTE band_interp_b.value_changed              TO spot_b.set_position
ROUTE band_interp_c.value_changed              TO spot_c.set_position
ROUTE band_interp_d.value_changed              TO spot_d.set_position
ROUTE off_clock.fraction_changed               TO off_interp.set_fraction
ROUTE off_interp.value_changed                 TO spot_a.set_position
ROUTE off_interp.value_changed                 TO spot_b.set_position
ROUTE off_interp.value_changed                 TO spot_c.set_position
ROUTE off_interp.value_changed                 TO spot_d.set_position
#laser animation routes
ROUTE spinswoop_clock.fraction_changed      TO spinswoop_script.set_fraction
ROUTE spinswoop_script.value_a_changed      TO laser_a.set_position
ROUTE spinswoop_script.value_b_changed      TO laser_b.set_position
ROUTE spinswoop_script.value_c_changed      TO laser_c.set_position
ROUTE spinswoop_script.value_d_changed      TO laser_d.set_position
ROUTE spin_clock.fraction_changed           TO spin_script.set_fraction
ROUTE spin_script.value_a_changed           TO laser_a.set_position
ROUTE spin_script.value_b_changed           TO laser_b.set_position
ROUTE spin_script.value_c_changed           TO laser_c.set_position
ROUTE spin_script.value_d_changed           TO laser_d.set_position
ROUTE backdrop_clock.fraction_changed       TO laser_backdrop_interp_a.set_fraction
ROUTE backdrop_clock.fraction_changed       TO laser_backdrop_interp_b.set_fraction
ROUTE backdrop_clock.fraction_changed       TO laser_backdrop_interp_c.set_fraction
ROUTE backdrop_clock.fraction_changed       TO laser_backdrop_interp_d.set_fraction
ROUTE laser_backdrop_interp_a.value_changed TO laser_a.set_position
ROUTE laser_backdrop_interp_b.value_changed TO laser_b.set_position
ROUTE laser_backdrop_interp_c.value_changed TO laser_c.set_position
ROUTE laser_backdrop_interp_d.value_changed TO laser_d.set_position
ROUTE laseroff_clock.fraction_changed       TO laseroff.set_fraction
ROUTE laseroff.value_changed                TO laser_a.set_position
ROUTE laseroff.value_changed                TO laser_b.set_position
ROUTE laseroff.value_changed                TO laser_c.set_position
ROUTE laseroff.value_changed                TO laser_d.set_position

####################################################################################
#MISC Scripts
####################################################################################

DEF change Script{eventIn SFString set_scene url "vrmlscript:function set_scene(v,t){ Browser.loadURL(new MFString(v),new MFString());}"}

####################################################################################
#Inlines
####################################################################################
#Inline {url "flatcars.wrl"}
#Inline {url "chopper.wrl"}
#Inline {url "top.wrl"}
#Inline {url "orgysets.wrl"}
DEF drums Transform {
children[
Transform {
children Shape {
appearance Appearance {
material Material {}
texture ImageTexture {url "drum.jpg"}
}
geometry IndexedFaceSet {
coord Coordinate {
point [ 0 0 0 .48 0 0 .34 0 .34 0 0 .48 -.34 0 .34 -.48 0 0 -.34 0 -.34 0 0 -.48 .34 0 -.34 .48 -.37 0 .34 -.37 .34 0 -.37 .48 -.34 -.37 .34 -.48 -.37 0 -.34 -.37 -.34 0 -.37 -.48 .34 -.37 -.34 .959 -.786 -1.351 1.319 -.22 -1.794 .749 -.091 -1.701 .338
-.276 -1.317 .323 -.664 -.87 .719 -1.028 -.622 1.289 -1.157 -.715 1.7 -.972 -1.099 1.715 -.584 -1.546 -.799 -3.151 2.079 -.448 -2.599 1.648 -1.003 -2.473 1.738 -1.404 -2.654 2.112 -1.418 -3.032 2.548 -1.033 -3.386 2.789 -.477 -3.512 2.699 -.077 -3.331
2.325 -.062 -2.954 1.889 -2.47 -1.971 1.939 -2.217 -1.572 1.628 -2.618 -1.481 1.693 -2.908 -1.612 1.963 -2.918 -1.885 2.278 -2.64 -2.141 2.452 -2.238 -2.232 2.387 -1.949 -2.102 2.117 -1.938 -1.829 1.802 -1.405 -1.605 2.12 -1.241 -1.412 1.718 -1.588 -1.333
1.774 -1.838 -1.446 2.007 -1.847 -1.681 2.279 -1.607 -1.903 2.43 -1.26 -1.982 2.373 -1.01 -1.869 2.14 -1.001 -1.633 1.868 -1.463 -1.763 1.981 -1.253 -1.442 1.691 -1.599 -1.363 1.747 -1.849 -1.476 1.981 -1.859 -1.712 2.252 -1.618 -1.933 2.403 -1.271 -2.012
2.347 -1.021 -1.899 2.113 -1.012 -1.663 1.841 -1.532 .403 1.747 -1.198 1.139 2.007 -1.138 1.05 1.366 -1.454 .795 2.494 -1.756 .222 2.546 -1.926 -.245 2.127 -1.866 -.334 1.487 -1.609 .01 .999 -1.307 .583 .948 -.622 .845 2.102 -.562 .755 1.461 -1.18 -.072
2.641 -.878 .501 2.589 -1.35 -.539 2.222 -1.29 -.628 1.582 -1.005 -.297 1.098 -.732 .288 1.043 -1.952 -.921 1.884 -1.515 -.751 1.988 -1.625 -.659 1.65 -1.662 -.943 2.266 -1.978 -1.122 2.32 -2.279 -1.184 2.118 -2.389 -1.092 1.779 -2.242 -.9 1.502 -1.926
-.721 1.448 -1.362 -1.06 1.855 -1.472 -.969 1.516 -1.825 -1.432 2.187 -1.509 -1.252 2.132 -2.126 -1.493 1.985 -2.236 -1.402 1.646 -2.081 -1.224 1.362 -1.773 -1.03 1.314 -1.182 .114 .383 -.745 .285 .488 -.856 .376 .149 -.892 .093 .765 -1.208 -.087 .819
-1.509 -.148 .617 -1.62 -.057 .279 -1.473 .135 .002 -1.157 .315 -.053 -.593 -.025 .354 -.703 .067 .016 -1.055 -.396 .686 -.739 -.217 .632 -1.356 -.458 .484 -1.467 -.366 .145 -1.312 -.189 -.139 -1.004 .005 -.186 ] }
coordIndex [ 0 2 1 -1 0 3 2 -1 0 4 3 -1 0 5 4 -1 0 6 5 -1 0 7 6 -1 0 8 7 -1 0 1 8 -1 2 11 10 -1 2 3 11 -1 3 12 11 -1 3 4 12 -1 4 13 12 -1 4 5 13 -1 5 14 13 -1 5 6 14 -1 6 15 14 -1 6 7 15 -1 7 16 15 -1 7 8 16 -1 8 9 16
-1 8 1 9 -1 17 19 18 -1 17 20 19 -1 17 21 20 -1 17 22 21 -1 17 23 22 -1 17 24 23 -1 17 25 24 -1 17 18 25 -1 26 28 27 -1 26 29 28 -1 26 30 29 -1 26 31 30 -1 26 32 31 -1 26 33 32 -1 26 34 33 -1 26 27 34 -1 35 37 36 -1 35 38 37 -1 35 39 38 -1 35 40 39 -1
35 41 40 -1 35 42 41 -1 35 43 42 -1 35 36 43 -1 45 46 44 -1 46 47 44 -1 47 48 44 -1 48 49 44 -1 49 50 44 -1 50 51 44 -1 51 52 44 -1 52 45 44 -1 53 55 54 -1 53 56 55 -1 53 57 56 -1 53 58 57 -1 53 59 58 -1 53 60 59 -1 53 61 60 -1 53 54 61 -1 62 63 64 -1
62 65 63 -1 62 66 65 -1 62 67 66 -1 62 68 67 -1 62 69 68 -1 62 70 69 -1 62 64 70 -1 64 71 72 -1 64 63 71 -1 65 73 74 -1 65 66 73 -1 66 75 73 -1 66 67 75 -1 67 76 75 -1 67 68 76 -1 68 77 76 -1 68 69 77 -1 69 78 77 -1 69 70 78 -1 70 72 78 -1 70 64 72 -1
79 80 81 -1 79 82 80 -1 79 83 82 -1 79 84 83 -1 79 85 84 -1 79 86 85 -1 79 87 86 -1 79 81 87 -1 81 88 89 -1 81 80 88 -1 82 90 91 -1 82 83 90 -1 83 92 90 -1 83 84 92 -1 84 93 92 -1 84 85 93 -1 85 94 93 -1 85 86 94 -1 86 95 94 -1 86 87 95 -1 87 89 95 -1
87 81 89 -1 96 97 98 -1 96 99 97 -1 96 100 99 -1 96 101 100 -1 96 102 101 -1 96 103 102 -1 96 104 103 -1 96 98 104 -1 98 105 106 -1 98 97 105 -1 99 107 108 -1 99 100 107 -1 100 109 107 -1 100 101 109 -1 101 110 109 -1 101 102 110 -1 102 111 110 -1 102
103 111 -1 103 112 111 -1 103 104 112 -1 104 106 112 -1 104 98 106 -1 ]
texCoord
TextureCoordinate { point [ .401 .577 .981 .473 .985 .709 .981 .835 .979 .113 .979 .236 .981 .112 .809 .473 .985 .412 .985 .115 .809 .835 .979 .532 .979 .829 .809 .112 .798 .407 .566 .165 .237 .165 .005 .407 .005 .748 .237 .99 .566 .99 .798 .748 .808
.113 .808 .236 .808 .532 .808 .829 .811 .709 .811 .412 .811 .115 .405 .575 .72 .422 .533 .212 .272 .214 .088 .428 .091 .728 .277 .938 .539 .936 .722 .722 .403 .565 .766 .565 .66 .309 .403 .203 .147 .309 .041 .565 .147 .822 .403 .928 .66 .822 .399 .553
.754 .41 .549 .201 .256 .199 .047 .404 .045 .696 .25 .905 .543 .908 .751 .703 .401 .553 .769 .553 .661 .293 .401 .186 .142 .293 .034 .553 .142 .813 .401 .921 .661 .813 .403 .573 .749 .433 .549 .23 .264 .227 .06 .427 .058 .712 .258 .915 .543 .918 .746
.718 .985 .832 .811 .832 ] }
creaseAngle 3.14159
texCoordIndex
[ 0 15 14 -1 0 16 15 -1 0 17 16 -1 0 18 17 -1 0 19 18 -1 0 20 19 -1 0 21 20 -1 0 14 21 -1 2 27 26 -1 2 8 27 -1 8 28 27 -1 8 9 28 -1 3 7 10 -1 3 1 7 -1 4 23 22 -1 4 5 23 -1 5 24 23 -1 5 11 24 -1 11 25 24 -1 11 12 25 -1 6 7 13 -1 6 1 7 -1 29 31 30 -1 29
32 31 -1 29 33 32 -1 29 34 33 -1 29 35 34 -1 29 36 35 -1 29 37 36 -1 29 30 37 -1 38 40 39 -1 38 41 40 -1 38 42 41 -1 38 43 42 -1 38 44 43 -1 38 45 44 -1 38 46 45 -1 38 39 46 -1 47 49 48 -1 47 50 49 -1 47 51 50 -1 47 52 51 -1 47 53 52 -1 47 54 53 -1 47
55 54 -1 47 48 55 -1 57 58 56 -1 58 59 56 -1 59 60 56 -1 60 61 56 -1 61 62 56 -1 62 63 56 -1 63 64 56 -1 64 57 56 -1 65 67 66 -1 65 68 67 -1 65 69 68 -1 65 70 69 -1 65 71 70 -1 65 72 71 -1 65 73 72 -1 65 66 73 -1 0 15 14 -1 0 16 15 -1 0 17 16 -1 0 18 17
-1 0 19 18 -1 0 20 19 -1 0 21 20 -1 0 14 21 -1 74 26 75 -1 74 2 26 -1 8 28 27 -1 8 9 28 -1 3 7 10 -1 3 1 7 -1 4 23 22 -1 4 5 23 -1 5 24 23 -1 5 11 24 -1 11 25 24 -1 11 12 25 -1 6 7 13 -1 6 1 7 -1 0 15 14 -1 0 16 15 -1 0 17 16 -1 0 18 17 -1 0 19 18 -1 0
20 19 -1 0 21 20 -1 0 14 21 -1 74 26 75 -1 74 2 26 -1 8 28 27 -1 8 9 28 -1 3 7 10 -1 3 1 7 -1 4 23 22 -1 4 5 23 -1 5 24 23 -1 5 11 24 -1 11 25 24 -1 11 12 25 -1 6 7 13 -1 6 1 7 -1 0 15 14 -1 0 16 15 -1 0 17 16 -1 0 18 17 -1 0 19 18 -1 0 20 19 -1 0 21 20
-1 0 14 21 -1 74 26 75 -1 74 2 26 -1 8 28 27 -1 8 9 28 -1 3 7 10 -1 3 1 7 -1 4 23 22 -1 4 5 23 -1 5 24 23 -1 5 11 24 -1 11 25 24 -1 11 12 25 -1 6 7 13 -1 6 1 7 -1 ]
}
}
translation .6327 2.757 .2814
rotation .805209 .091391 -.585906 2.401
scale .4923 .4923 .4923
}
Transform {
children Shape {
appearance Appearance {
material Material {}
texture ImageTexture {
url "light_texture.jpg"
}
}
geometry
IndexedFaceSet {
coord Coordinate {
point [ -.02 .32 .02 .02 .32 .02 -.02 .32 -.02 -.02 .87 .02 .02 .87 .02 -.02 .85 -.02 -.02 .29 .02 .02 .29 .02 -.02 .29 -.02 .02 .29 -.02 -.02 0 .02 .02 0 .02 -.02 0 -.02 .33 0 .02 .3 0 .02 .3 0 -.02 -.02 0 .33 .02 0 .33 -.02 0 .3 -.02 0 -.34 -.02 0
-.31 .02 0 -.31 -.258 .19 .848 -.219 .19 .894 -.213 .19 .809 -.174 .19 .855 -.258 .75 .848 -.219 .75 .894 -.213 .75 .809 -.174 .75 .855 -.258 .78 .848 -.219 .78 .894 -.213 .78 .809 -.174 .78 .855 -.258 .98 .848 -.219 .98 .894 -.213 .98 .809 -.174 .98
.855 .677 .75 .049 .716 .75 .095 .677 .78 .049 .716 .78 .095 -1.668 .75 -.802 -1.622 .75 -.841 -1.668 .78 -.802 -1.622 .78 -.841 -.258 .15 .848 -.219 .15 .894 -.213 .15 .809 -.174 .15 .855 -.258 0 .848 -.219 0 .894 -.213 0 .809 -.174 0 .855 -.914 .19
.08 -.869 .19 .041 -.914 .15 .08 -.869 .15 .041 -.953 .19 .035 -.908 .19 -.004 -.953 .15 .035 -.908 .15 -.004 -.914 0 .08 -.869 0 .041 -.953 0 .035 -.908 0 -.004 .692 .75 .036 .731 .75 .082 .852 .19 -.1 .891 .19 -.054 .852 .15 -.1 .891 .15 -.054 .928
.19 -.165 .967 .19 -.119 .928 .15 -.165 .967 .15 -.119 .852 0 -.1 .891 0 -.054 .928 0 -.165 .967 0 -.119 .69 .79 .064 .703 .79 .08 .705 .79 .051 .718 .79 .067 .69 1.36 .064 .703 1.36 .08 .705 1.36 .051 .718 1.36 .067 -1.668 .19 -.802 -1.7 .19 -.84 -1.622
.19 -.841 -1.655 .19 -.879 -1.7 .75 -.84 -1.655 .75 -.879 -1.7 .78 -.84 -1.655 .78 -.879 -1.668 .98 -.802 -1.7 .98 -.84 -1.622 .98 -.841 -1.655 .98 -.879 -.732 .75 -1.601 -.765 .75 -1.639 -.732 .78 -1.601 -.765 .78 -1.639 -1.668 .15 -.802 -1.7 .15 -.84
-1.622 .15 -.841 -1.655 .15 -.879 -1.668 0 -.802 -1.7 0 -.84 -1.622 0 -.841 -1.655 0 -.879 -1.005 .19 -.026 -.96 .19 -.065 -1.005 .15 -.026 -.96 .15 -.065 -.966 .19 .019 -.921 .19 -.02 -.966 .15 .019 -.921 .15 -.02 -1.005 0 -.026 -.96 0 -.065 -.966 0
.019 -.921 0 -.02 -.717 .75 -1.614 -.75 .75 -1.652 -.717 .78 -1.614 -.558 .19 -1.75 -.59 .19 -1.788 -.558 .15 -1.75 -.59 .15 -1.788 -.482 .19 -1.815 -.514 .19 -1.853 -.482 .15 -1.815 -.514 .15 -1.853 -.558 0 -1.75 -.59 0 -1.788 -.482 0 -1.815 -.514 0
-1.853 -.739 .79 -1.608 -.758 .79 -1.631 -.724 .79 -1.621 -.743 .79 -1.644 -.739 1.36 -1.608 -.758 1.36 -1.631 -.724 1.36 -1.621 -.743 1.36 -1.644 .677 .19 .049 .716 .19 .095 .692 .19 .036 .731 .19 .082 -.732 .19 -1.601 -.765 .19 -1.639 -.717 .19 -1.614
-.75 .19 -1.652 -1.504 .14 -.947 -1.478 .14 -.916 -1.474 .14 -.973 -1.448 .14 -.942 -1.504 1.2 -.947 -1.478 1.2 -.916 -1.474 1.2 -.973 -1.448 1.2 -.942 -1.225 .32 -.63 -1.251 .32 -.66 -1.195 .32 -.656 -1.221 .32 -.686 -1.225 .87 -.63 -1.251 .87 -.66
-1.195 .85 -.656 -1.221 .85 -.686 -1.225 .29 -.63 -1.251 .29 -.66 -1.195 .29 -.656 -1.221 .29 -.686 -1.225 0 -.63 -1.251 0 -.66 -1.195 0 -.656 -1.221 0 -.686 -1.453 0 -.896 -1.422 0 -.922 -1.433 0 -.873 -1.403 0 -.899 -1.461 0 -.428 -1.487 0 -.459 -1.438
0 -.448 -1.464 0 -.478 -.951 0 -.864 -.977 0 -.894 -.974 0 -.844 -1 0 -.875 -.609 .32 .092 -.583 .32 .122 -.579 .32 .066 -.553 .32 .096 -.609 .87 .092 -.583 .87 .122 -.579 .85 .066 -.553 .85 .096 -.609 .29 .092 -.583 .29 .122 -.579 .29 .066 -.553 .29
.096 -.609 0 .092 -.583 0 .122 -.579 0 .066 -.553 0 .096 -.382 0 .358 -.351 0 .332 -.401 0 .335 -.371 0 .309 -.845 0 .293 -.819 0 .323 -.822 0 .273 -.796 0 .304 -.335 0 -.142 -.309 0 -.112 -.358 0 -.123 -.332 0 -.092 -1.055 .19 -1.028 -1.029 .19 -.997
-1.024 .19 -1.054 -.998 .19 -1.023 -1.055 .98 -1.028 -1.029 .98 -.997 -1.024 .98 -1.054 -.998 .98 -1.023 -1.055 .14 -1.028 -1.204 .19 -1.203 -1.174 .19 -1.228 -1.204 .14 -1.203 ] }
coordIndex [ 0 1 4 -1 4 3 0 -1 2 0 3 -1 3 5 2 -1 6 8 12 -1 12 10 6 -1 7 6 10 -1 10 11 7 -1 1 7 14 -1 14 13 1 -1 7 9 15 -1 15 14 7 -1 1 0 16 -1 16 17 1 -1 0 6 18 -1 18 16 0 -1 9 8 20 -1 20 21 9 -1 8 2 19 -1 19 20 8 -1 0 2 6 -1 6 2 8 -1 22 23 27 -1 27 26
22 -1 23 25 29 -1 29 27 23 -1 24 22 26 -1 26 28 24 -1 26 27 31 -1 31 30 26 -1 27 29 33 -1 33 31 27 -1 30 31 35 -1 35 34 30 -1 31 33 37 -1 37 35 31 -1 32 30 34 -1 34 36 32 -1 33 29 39 -1 39 41 33 -1 28 32 40 -1 40 38 28 -1 32 33 41 -1 41 40 32 -1 26 30
44 -1 44 42 26 -1 30 32 45 -1 45 44 30 -1 58 59 61 -1 61 60 58 -1 25 23 47 -1 47 49 25 -1 23 22 46 -1 46 47 23 -1 46 48 52 -1 52 50 46 -1 49 47 51 -1 51 53 49 -1 47 46 50 -1 50 51 47 -1 22 24 55 -1 55 54 22 -1 46 22 54 -1 54 56 46 -1 54 55 59 -1 59 58
54 -1 56 54 58 -1 58 60 56 -1 60 61 65 -1 65 64 60 -1 57 56 62 -1 62 63 57 -1 56 60 64 -1 64 62 56 -1 148 147 149 -1 149 150 148 -1 24 25 69 -1 69 68 24 -1 25 49 71 -1 71 69 25 -1 48 24 68 -1 68 70 48 -1 69 71 75 -1 75 73 69 -1 70 68 72 -1 72 74 70 -1
71 70 76 -1 76 77 71 -1 75 71 77 -1 77 79 75 -1 70 74 78 -1 78 76 70 -1 40 41 81 -1 81 80 40 -1 80 81 85 -1 85 84 80 -1 81 83 87 -1 87 85 81 -1 82 80 84 -1 84 86 82 -1 88 92 89 -1 92 88 42 -1 89 93 91 -1 93 89 92 -1 90 42 88 -1 42 90 43 -1 42 94 92 -1
94 42 44 -1 92 95 93 -1 95 92 94 -1 44 97 94 -1 97 44 96 -1 94 99 95 -1 99 94 97 -1 45 96 44 -1 96 45 98 -1 95 101 93 -1 101 95 103 -1 45 103 95 -1 103 45 102 -1 116 119 117 -1 119 116 118 -1 91 105 89 -1 105 91 107 -1 89 104 88 -1 104 89 105 -1 104 110
106 -1 110 104 108 -1 107 109 105 -1 109 107 111 -1 105 108 104 -1 108 105 109 -1 88 113 90 -1 113 88 112 -1 104 112 88 -1 112 104 114 -1 112 117 113 -1 117 112 116 -1 114 116 112 -1 116 114 118 -1 118 123 119 -1 123 118 122 -1 115 120 114 -1 120 115 121
-1 114 122 118 -1 122 114 120 -1 152 153 151 -1 153 152 154 -1 90 128 91 -1 128 90 127 -1 91 130 107 -1 130 91 128 -1 106 127 90 -1 127 106 129 -1 128 134 130 -1 134 128 132 -1 129 131 127 -1 131 129 133 -1 130 135 129 -1 135 130 136 -1 134 136 130 -1
136 134 138 -1 129 137 133 -1 137 129 135 -1 102 140 103 -1 140 102 139 -1 126 139 102 -1 139 126 141 -1 139 144 140 -1 144 139 143 -1 140 146 142 -1 146 140 144 -1 141 143 139 -1 143 141 145 -1 39 38 147 -1 147 148 39 -1 38 66 149 -1 149 147 38 -1 67
39 148 -1 148 150 67 -1 100 101 152 -1 152 151 100 -1 124 100 151 -1 151 153 124 -1 101 125 154 -1 154 152 101 -1 155 156 160 -1 160 159 155 -1 156 158 162 -1 162 160 156 -1 157 155 159 -1 159 161 157 -1 168 164 163 -1 163 167 168 -1 170 166 164 -1 164
168 170 -1 167 163 165 -1 165 169 167 -1 177 173 171 -1 171 175 177 -1 176 172 174 -1 174 178 176 -1 175 171 172 -1 172 176 175 -1 179 164 166 -1 166 180 179 -1 181 172 164 -1 164 179 181 -1 182 174 172 -1 172 181 182 -1 183 163 164 -1 164 184 183 -1 185
171 163 -1 163 183 185 -1 184 164 172 -1 172 186 184 -1 190 174 166 -1 166 188 190 -1 189 173 174 -1 174 190 189 -1 187 165 173 -1 173 189 187 -1 171 165 163 -1 173 165 171 -1 191 192 196 -1 196 195 191 -1 192 194 198 -1 198 196 192 -1 193 191 195 -1 195
197 193 -1 199 201 205 -1 205 203 199 -1 202 200 204 -1 204 206 202 -1 200 199 203 -1 203 204 200 -1 194 192 207 -1 207 208 194 -1 192 200 209 -1 209 207 192 -1 200 202 210 -1 210 209 200 -1 192 191 211 -1 211 212 192 -1 191 199 213 -1 213 211 191 -1 200
192 212 -1 212 214 200 -1 194 202 218 -1 218 216 194 -1 202 201 217 -1 217 218 202 -1 201 193 215 -1 215 217 201 -1 193 201 199 -1 193 199 191 -1 219 220 224 -1 224 223 219 -1 220 222 226 -1 226 224 220 -1 221 219 223 -1 223 225 221 -1 219 221 229 -1 229
228 219 -1 227 219 228 -1 228 230 227 -1 ] texCoord
TextureCoordinate { point [ 1 .115 0 .115 .001 .115 1 1.914 0 1.836 0 .011 1 .011 0 -.914 1 -.914 0 1.914 .001 .011 1 1 0 1 1 0 0 0 .001 1 0 .899 .899 .003 .001 .898 .001 .002 1 .898 1 .002 0 .898 .902 .002 .001 0 0 .905 1 .899 .096 .001 1 .905 1 .73
0 .73 1 .672 0 .672 .033 1 .033 .777 .978 1 .978 .777 .967 .777 .967 1 .935 1 .065 1 .022 .777 .022 1 0 .777 1 .777 .534 1 .534 .777 .935 .777 .065 .777 .47 1 .47 .777 1 -.404 0 -.404 .001 1.283 1 1.283 0 1.283 .001 -.404 1 1.365 .001 1.365 0 .001 0
1.365 0 -.53 1 -.53 1 -.964 0 -.964 1 1.964 0 1.964 .001 1.964 .001 -.53 .001 -.964 0 -.407 1 1.286 1 -.407 .001 1.286 .001 1.368 1 1.368 .996 -.534 .996 -.969 .001 -.969 .001 -.534 .996 -.407 .001 -.407 .001 1.969 .996 1.969 0 1.969 0 1.368 1 1.969
0 -.534 1 -.969 1 -.534 0 -.969 .572 1 .428 1 .428 .774 .572 .774 0 .774 1 .774 .428 0 .572 0 .001 .774 -.788 -1.927 1.197 2.927 .001 -1.927 0 2.927 1 -1.927 1 2.927 -.197 -1.927 1.788 2.927 .001 2.008 .001 1.887 0 1.887 1 2.008 1 1.887 1 -.954 .001
-.954 1 -1.008 1 .053 .001 .074 .218 .074 1 .074 .001 .796 1 .796 .218 .796 0 .053 .782 .074 .782 .796 1 2.033 1 1.91 .001 2.033 1 -.978 .001 -.978 .001 1.91 .996 -.978 .004 -.978 1 .126 1 .104 .782 .126 .001 .104 .001 .126 1 .896 .001 .896 .782 .896
.218 .126 0 .104 .218 .896 .001 -1.008 0 2.008 0 -1.008 .996 -1.033 .001 -1.033 .001 1.949 1 1.949 1 -.949 .001 -.949 0 1.949 0 -.949 .001 1.914 1 1.836 .101 .003 .905 .001 1 .55 0 .55 1 .45 0 .45 0 .583 0 .417 1 .417 1 .583 1 .885 0 .885 .001 .885 ]
}
creaseAngle 3.14159
texCoordIndex
[ 1 0 3 -1 3 9 1 -1 2 0 3 -1 3 4 2 -1 6 10 7 -1 7 8 6 -1 6 5 7 -1 7 8 6 -1 12 22 23 -1 23 13 12 -1 20 18 19 -1 19 21 20 -1 11 15 14 -1 14 13 11 -1 12 16 17 -1 17 13 12 -1 24 13 28 -1 28 25 24 -1 26 11 14 -1 14 27 26 -1 29 30 31 -1 31 30 32 -1 52 51 54
-1 54 55 52 -1 52 51 54 -1 54 53 52 -1 56 51 54 -1 54 53 56 -1 14 13 13 -1 13 14 14 -1 108 109 112 -1 112 111 108 -1 60 57 65 -1 65 66 60 -1 58 57 65 -1 65 67 58 -1 60 57 65 -1 65 66 60 -1 112 109 114 -1 114 113 112 -1 112 109 114 -1 114 113 112 -1 112
110 114 -1 114 113 112 -1 100 106 107 -1 107 101 100 -1 102 104 105 -1 105 103 102 -1 11 15 99 -1 99 96 11 -1 33 12 43 -1 43 34 33 -1 11 35 36 -1 36 44 11 -1 62 68 69 -1 69 63 62 -1 62 61 64 -1 64 63 62 -1 62 61 64 -1 64 63 62 -1 13 11 11 -1 11 13 13
-1 36 35 45 -1 45 46 36 -1 13 11 91 -1 91 98 13 -1 96 11 91 -1 91 94 96 -1 96 99 14 -1 14 13 96 -1 96 95 14 -1 14 13 96 -1 96 94 98 -1 98 13 96 -1 11 12 12 -1 12 11 11 -1 11 12 12 -1 12 11 11 -1 33 34 47 -1 47 39 33 -1 37 38 40 -1 40 48 37 -1 39 47 44
-1 44 11 39 -1 48 40 12 -1 12 43 48 -1 11 12 14 -1 14 13 11 -1 11 15 24 -1 24 13 11 -1 11 15 24 -1 24 13 11 -1 123 116 124 -1 124 118 123 -1 118 124 125 -1 125 122 118 -1 117 119 121 -1 121 120 117 -1 117 119 121 -1 121 120 117 -1 80 73 81 -1 73 80 71
-1 72 73 81 -1 73 72 71 -1 72 73 70 -1 73 72 71 -1 14 13 13 -1 13 14 14 -1 126 131 127 -1 131 126 128 -1 75 82 74 -1 82 75 83 -1 75 84 85 -1 84 75 86 -1 75 82 74 -1 82 75 86 -1 131 129 127 -1 129 131 130 -1 131 129 127 -1 129 131 133 -1 12 96 11 -1 96
12 95 -1 38 44 11 -1 44 38 37 -1 12 41 42 -1 41 12 43 -1 87 88 89 -1 88 87 90 -1 79 88 89 -1 88 79 78 -1 79 77 76 -1 77 79 78 -1 13 11 11 -1 11 13 13 -1 41 49 42 -1 49 41 50 -1 59 92 12 -1 92 59 97 -1 95 92 12 -1 92 95 93 -1 95 13 96 -1 13 95 24 -1 95
13 96 -1 13 95 14 -1 95 97 93 -1 97 95 14 -1 130 148 132 -1 148 130 149 -1 11 12 12 -1 12 11 11 -1 38 48 37 -1 48 38 40 -1 34 39 33 -1 39 34 47 -1 40 43 48 -1 43 40 12 -1 47 11 39 -1 11 47 44 -1 12 13 11 -1 13 12 14 -1 12 13 11 -1 13 12 14 -1 12 13 11
-1 13 12 14 -1 135 142 143 -1 142 135 136 -1 135 138 137 -1 138 135 134 -1 136 144 142 -1 144 136 141 -1 134 140 138 -1 140 134 139 -1 134 140 138 -1 140 134 139 -1 111 146 147 -1 147 115 111 -1 111 108 145 -1 145 115 111 -1 111 108 145 -1 145 115 111
-1 151 154 155 -1 155 152 151 -1 151 150 153 -1 153 152 151 -1 151 150 153 -1 153 152 151 -1 14 13 11 -1 11 12 14 -1 14 13 11 -1 11 12 14 -1 14 13 11 -1 11 12 14 -1 3 0 1 -1 1 9 3 -1 157 0 1 -1 1 156 157 -1 3 0 2 -1 2 4 3 -1 7 10 6 -1 6 8 7 -1 7 5 6
-1 6 8 7 -1 7 5 6 -1 6 8 7 -1 24 15 11 -1 11 13 24 -1 23 22 12 -1 12 13 23 -1 19 18 20 -1 20 21 19 -1 14 15 11 -1 11 13 14 -1 17 16 12 -1 12 13 17 -1 14 11 26 -1 26 158 14 -1 159 16 12 -1 12 13 159 -1 28 13 24 -1 24 25 28 -1 14 11 26 -1 26 27 14 -1 162
161 160 -1 163 161 162 -1 1 0 3 -1 3 9 1 -1 1 0 157 -1 157 156 1 -1 2 0 3 -1 3 4 2 -1 6 10 7 -1 7 8 6 -1 6 5 7 -1 7 8 6 -1 6 5 7 -1 7 8 6 -1 11 15 24 -1 24 13 11 -1 12 22 23 -1 23 13 12 -1 20 18 19 -1 19 21 20 -1 11 15 14 -1 14 13 11 -1 12 16 17 -1 17
13 12 -1 26 11 14 -1 14 158 26 -1 12 16 159 -1 159 13 12 -1 24 13 28 -1 28 25 24 -1 26 11 14 -1 14 27 26 -1 164 165 166 -1 164 166 167 -1 14 13 11 -1 11 12 14 -1 14 13 11 -1 11 12 14 -1 14 13 11 -1 11 12 14 -1 168 169 14 -1 14 13 168 -1 168 170 14 -1 14
13 168 -1 ]
}
}
translation .6059 1.889 .2728
rotation 0 1 0 .8639
}
]translation 13.1335 1.65 -3 scale 2 2 2
}
